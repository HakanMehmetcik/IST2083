<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Hakan Mehmetcik">
<meta name="dcterms.date" content="2024-10-31">

<title>week_5_veri_isleme</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="week_5_veri_isleme_files/libs/clipboard/clipboard.min.js"></script>
<script src="week_5_veri_isleme_files/libs/quarto-html/quarto.js"></script>
<script src="week_5_veri_isleme_files/libs/quarto-html/popper.min.js"></script>
<script src="week_5_veri_isleme_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="week_5_veri_isleme_files/libs/quarto-html/anchor.min.js"></script>
<link href="week_5_veri_isleme_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="week_5_veri_isleme_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="week_5_veri_isleme_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="week_5_veri_isleme_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="week_5_veri_isleme_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">week_5_veri_isleme</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Hakan Mehmetcik </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 31, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="veri-dÃ¼zenleme-iÃ§in-bir-dilbilgisi" class="level1">
<h1>Veri DÃ¼zenleme iÃ§in Bir Dilbilgisi</h1>
<p>TÄ±pkÄ± <code>ggplot2</code> paketinin veri gÃ¶rselleÅŸtirme iÃ§in gÃ¼Ã§lÃ¼ ve esnek bir dilbilgisi sunmasÄ± gibi, <code>dplyr</code> paketi de R programlama dilinde veri manipÃ¼lasyonu ve dÃ¼zenleme iÅŸlemleri iÃ§in son derece kullanÄ±ÅŸlÄ± ve etkili bir dilbilgisi sunar. Bu paket, veri analizi sÃ¼recini daha verimli ve anlaÅŸÄ±lÄ±r hale getiren bir dizi araÃ§ saÄŸlar.</p>
<p>Ã–zellikle, <code>dplyr</code> paketi veri Ã§erÃ§eveleri Ã¼zerinde Ã§eÅŸitli karmaÅŸÄ±k iÅŸlemler gerÃ§ekleÅŸtirmek iÃ§in â€œfiilâ€ olarak adlandÄ±rÄ±lan iÅŸlevsel fonksiyonlar sunar. Bu fiiller, veri setlerini filtreleme, sÄ±ralama, gruplama, Ã¶zetleme ve birleÅŸtirme gibi temel veri manipÃ¼lasyon gÃ¶revlerini gerÃ§ekleÅŸtirmek iÃ§in kullanÄ±lÄ±r. Her bir fiil, belirli bir gÃ¶revi yerine getirmek Ã¼zere tasarlanmÄ±ÅŸtÄ±r ve birbirleriyle kolayca birleÅŸtirilebilir, bÃ¶ylece karmaÅŸÄ±k veri dÃ¶nÃ¼ÅŸÃ¼mlerini bile anlaÅŸÄ±lÄ±r ve okunabilir bir ÅŸekilde ifade etmek mÃ¼mkÃ¼n olur.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>ğŸ’¡</strong> <code>dplyr</code> paketindeki temel fiiller ÅŸunlardÄ±r:</p>
<ul>
<li><p><code>select()</code>: Veri Ã§erÃ§evesinden belirli sÃ¼tunlarÄ± seÃ§mek iÃ§in kullanÄ±lÄ±r.</p></li>
<li><p><code>filter()</code>: Belirli koÅŸullarÄ± saÄŸlayan satÄ±rlarÄ± seÃ§mek iÃ§in kullanÄ±lÄ±r.</p></li>
<li><p><code>mutate()</code>: Yeni sÃ¼tunlar oluÅŸturmak veya mevcut sÃ¼tunlarÄ± deÄŸiÅŸtirmek iÃ§in kullanÄ±lÄ±r.</p></li>
<li><p><code>arrange()</code>: Veri Ã§erÃ§evesindeki satÄ±rlarÄ± belirli sÃ¼tunlara gÃ¶re sÄ±ralamak iÃ§in kullanÄ±lÄ±r.</p></li>
<li><p><code>summarize()</code>: Verileri satÄ±rlar arasÄ±nda Ã¶zetlemek iÃ§in kullanÄ±lÄ±r.</p></li>
</ul>
<p>Bu fiilleri birleÅŸtirerek karmaÅŸÄ±k veri manipÃ¼lasyon iÅŸlemlerini kolayca gerÃ§ekleÅŸtirebilirsiniz. <code>dplyr</code> paketi, R ile veri analizi yapan herkes iÃ§in olmazsa olmaz bir araÃ§tÄ±r. Bu paketin sunduÄŸu dilbilgisi yaklaÅŸÄ±mÄ±, veri manipÃ¼lasyonunu daha kolay, anlaÅŸÄ±lÄ±r ve etkili hale getirir.</p>
</div>
</div>
<section id="select-ve-filter" class="level2">
<h2 class="anchored" data-anchor-id="select-ve-filter">1. select() ve filter()</h2>
<ul>
<li><p><strong><code>select()</code></strong>: Veri Ã§erÃ§evesinden belirli <strong>sÃ¼tunlarÄ±</strong> seÃ§mek iÃ§in kullanÄ±lÄ±r. Ã–rneÄŸin, <code>select(veri, sutun1, sutun2)</code> kodu, <code>veri</code> adlÄ± veri Ã§erÃ§evesinden sadece <code>sutun1</code> ve <code>sutun2</code> adlÄ± sÃ¼tunlarÄ± seÃ§er. Bu fonksiyon, veri setinizi sadeleÅŸtirmek ve sadece ihtiyacÄ±nÄ±z olan deÄŸiÅŸkenleri tutmak iÃ§in faydalÄ±dÄ±r.</p></li>
<li><p><strong><code>filter()</code></strong>: Belirli koÅŸullarÄ± saÄŸlayan <strong>satÄ±rlarÄ±</strong> seÃ§mek iÃ§in kullanÄ±lÄ±r. Ã–rneÄŸin, <code>filter(veri, sutun1 &gt; 10)</code> kodu, <code>veri</code> veri Ã§erÃ§evesinde <code>sutun1</code> deÄŸerleri 10â€™dan bÃ¼yÃ¼k olan satÄ±rlarÄ± filtreler. Bu fonksiyon, analiziniz iÃ§in belirli kriterleri karÅŸÄ±layan gÃ¶zlemleri seÃ§menize olanak tanÄ±r.</p></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">|&gt;</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, party)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 Ã— 2
   name       party     
   &lt;chr&gt;      &lt;chr&gt;     
 1 Eisenhower Republican
 2 Kennedy    Democratic
 3 Johnson    Democratic
 4 Nixon      Republican
 5 Ford       Republican
 6 Carter     Democratic
 7 Reagan     Republican
 8 Bush       Republican
 9 Clinton    Democratic
10 Bush       Republican
11 Obama      Democratic
12 Trump      Republican</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>ğŸ‘‹ <code>tidyverse</code> iÃ§indeki <code>pipe</code> operatÃ¶rÃ¼ (<code>|&gt;</code>) veri manipÃ¼lasyonunu ve analizini kolaylaÅŸtÄ±rmak iÃ§in kullanÄ±lÄ±r. Kodunuzu daha okunabilir ve anlaÅŸÄ±lÄ±r hale getirir.</p>
<p><strong><code>pipe</code> OperatÃ¶rÃ¼ NasÄ±l Ã‡alÄ±ÅŸÄ±r?</strong></p>
<p><code>pipe</code> operatÃ¶rÃ¼ (<code>|&gt;</code>), bir fonksiyonun Ã§Ä±ktÄ±sÄ±nÄ± bir sonraki fonksiyonun girdisi olarak kullanmanÄ±za olanak tanÄ±r. Bu sayede, iÃ§ iÃ§e geÃ§miÅŸ fonksiyonlar yerine, iÅŸlemleri adÄ±m adÄ±m zincirleme bir ÅŸekilde yazabilirsiniz.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">|&gt;</span> </span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party<span class="sc">==</span><span class="st">"Republican"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 Ã— 4
  name       start      end        party     
  &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;     
1 Eisenhower 1953-01-20 1961-01-20 Republican
2 Nixon      1969-01-20 1974-08-09 Republican
3 Ford       1974-08-09 1977-01-20 Republican
4 Reagan     1981-01-20 1989-01-20 Republican
5 Bush       1989-01-20 1993-01-20 Republican
6 Bush       2001-01-20 2009-01-20 Republican
7 Trump      2017-01-20 2021-01-20 Republican</code></pre>
</div>
</div>
<p><code>select</code> ve <code>filter</code>â€™Ä± birlikte kullanmaya ne dersiniz?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">|&gt;</span> </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name, party) <span class="sc">|&gt;</span> </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(party<span class="sc">==</span><span class="st">"Republican"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 Ã— 2
  name       party     
  &lt;chr&gt;      &lt;chr&gt;     
1 Eisenhower Republican
2 Nixon      Republican
3 Ford       Republican
4 Reagan     Republican
5 Bush       Republican
6 Bush       Republican
7 Trump      Republican</code></pre>
</div>
</div>
<p><code>filter()</code> ve <code>select()</code> komutlarÄ±nÄ± birleÅŸtirmek, Ã§ok belirli bilgilere ulaÅŸmayÄ± saÄŸlar. Ã–rneÄŸin, presidential veri setinde Watergate skandalÄ±ndan beri gÃ¶rev yapan Demokrat baÅŸkanlarÄ± bulabiliriz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>presidential <span class="sc">|&gt;</span> </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(start) <span class="sc">&gt;</span> <span class="dv">1973</span> <span class="sc">&amp;</span> party <span class="sc">==</span> <span class="st">"Democratic"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(name)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 1
  name   
  &lt;chr&gt;  
1 Carter 
2 Clinton
3 Obama  </code></pre>
</div>
</div>
</section>
<section id="mutate-ve-rename" class="level2">
<h2 class="anchored" data-anchor-id="mutate-ve-rename">2. mutate() ve rename()</h2>
<p>Veri analizi yaparken sÄ±klÄ±kla verilerimiz Ã¼zerinde deÄŸiÅŸiklikler yapmamÄ±z gerekir. Bu deÄŸiÅŸiklikler, yeni deÄŸiÅŸkenler oluÅŸturmayÄ±, mevcut deÄŸiÅŸkenleri yeniden tanÄ±mlamayÄ± veya deÄŸiÅŸkenlerin isimlerini deÄŸiÅŸtirmeyi iÃ§erebilir. <code>dplyr</code> paketi, <code>mutate()</code> ve <code>rename()</code> fonksiyonlarÄ± ile bu iÅŸlemleri kolayca yapmamÄ±zÄ± saÄŸlar.</p>
<p>Ã–rneÄŸin, elimizde ABD baÅŸkanlarÄ±nÄ±n gÃ¶rev sÃ¼relerine iliÅŸkin bir veri setimiz olan presidential verisini dÃ¼ÅŸÃ¼nelim. Bu veri setinde, her baÅŸkanÄ±n gÃ¶reve baÅŸlama ve gÃ¶revden ayrÄ±lma tarihleri bulunmaktadÄ±r. Ancak, her baÅŸkanÄ±n gÃ¶rev sÃ¼resinin uzunluÄŸunu gÃ¶steren bir deÄŸiÅŸken yoktur. <code>mutate()</code> fonksiyonunu kullanarak, bu bilgiyi mevcut tarihlerden hesaplayabilir ve veri setimize yeni bir sÃ¼tun olarak ekleyebiliriz.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>âš ï¸ Mevcut veri setini deÄŸiÅŸtirmek yerine, genellikle yeni bir veri seti oluÅŸturmak iyi bir uygulamadÄ±r. Bu sayede, orijinal veri setini koruyabilir ve Ã¼zerinde istediÄŸiniz deÄŸiÅŸiklikleri yapabilirsiniz. Ã–rneÄŸin, <code>mutate()</code> fonksiyonunun Ã§Ä±ktÄ±sÄ±nÄ± yeni bir veri setine kaydedebilirsiniz.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="ot">&lt;-</span> presidential <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">term.length =</span> <span class="fu">interval</span>(start, end) <span class="sc">/</span> <span class="fu">dyears</span>(<span class="dv">1</span>))</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(my_presidents) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 5
  name       start      end        party      term.length
  &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;dbl&gt;
1 Eisenhower 1953-01-20 1961-01-20 Republican        8   
2 Kennedy    1961-01-20 1963-11-22 Democratic        2.84
3 Johnson    1963-11-22 1969-01-20 Democratic        5.16
4 Nixon      1969-01-20 1974-08-09 Republican        5.55
5 Ford       1974-08-09 1977-01-20 Republican        2.45
6 Carter     1977-01-20 1981-01-20 Democratic        4   </code></pre>
</div>
</div>
<p><code>mutate()</code> fonksiyonu, mevcut bir sÃ¼tundaki verileri deÄŸiÅŸtirmek iÃ§in de kullanÄ±labilir. Ã–rneÄŸin, veri Ã§erÃ§evemize her baÅŸkanÄ±n seÃ§ildiÄŸi yÄ±lÄ± iÃ§eren bir deÄŸiÅŸken eklemek istediÄŸimizi dÃ¼ÅŸÃ¼nelim. Ä°lk (basit) yaklaÅŸÄ±mÄ±mÄ±z, her baÅŸkanÄ±n gÃ¶reve baÅŸlamadan Ã¶nceki yÄ±l seÃ§ildiÄŸini varsayabilir. <code>mutate()</code> fonksiyonunun bir veri Ã§erÃ§evesi dÃ¶ndÃ¼rdÃ¼ÄŸÃ¼nÃ¼ unutmayÄ±n. Bu nedenle, mevcut veri Ã§erÃ§evemizi deÄŸiÅŸtirmek istiyorsak, onu yeni sonuÃ§larla gÃ¼ncellememiz gerekir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="ot">&lt;-</span> my_presidents <span class="sc">|&gt;</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">elected =</span> <span class="fu">year</span>(start) <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(my_presidents) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 6
  name       start      end        party      term.length elected
  &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;
1 Eisenhower 1953-01-20 1961-01-20 Republican        8       1952
2 Kennedy    1961-01-20 1963-11-22 Democratic        2.84    1960
3 Johnson    1963-11-22 1969-01-20 Democratic        5.16    1962
4 Nixon      1969-01-20 1974-08-09 Republican        5.55    1968
5 Ford       1974-08-09 1977-01-20 Republican        2.45    1973
6 Carter     1977-01-20 1981-01-20 Democratic        4       1976</code></pre>
</div>
</div>
<p><code>rename()</code> fonksiyonu ise, deÄŸiÅŸkenlerin isimlerini deÄŸiÅŸtirmek iÃ§in kullanÄ±lÄ±r.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="ot">&lt;-</span> my_presidents <span class="sc">|&gt;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">term_length =</span> term.length)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(my_presidents) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 6
  name       start      end        party      term_length elected
  &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;
1 Eisenhower 1953-01-20 1961-01-20 Republican        8       1952
2 Kennedy    1961-01-20 1963-11-22 Democratic        2.84    1960
3 Johnson    1963-11-22 1969-01-20 Democratic        5.16    1962
4 Nixon      1969-01-20 1974-08-09 Republican        5.55    1968
5 Ford       1974-08-09 1977-01-20 Republican        2.45    1973
6 Carter     1977-01-20 1981-01-20 Democratic        4       1976</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>ğŸ’¡ <code>janitor</code> paketi, R ile veri temizleme iÅŸlemlerini kolaylaÅŸtÄ±rmak iÃ§in geliÅŸtirilmiÅŸ kullanÄ±ÅŸlÄ± bir pakettir. Ã–zellikle deÄŸiÅŸken isimlerini temizlemek ve dÃ¼zenlemek iÃ§in sunduÄŸu <code>clean_names()</code> fonksiyonu oldukÃ§a faydalÄ±dÄ±r.</p>
<p><strong><code>clean_names()</code> fonksiyonu ne iÅŸe yarar?</strong></p>
<p><code>clean_names()</code> fonksiyonu, veri setinizdeki deÄŸiÅŸken isimlerini otomatik olarak temizler ve standart bir formata dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r. Bu sayede, deÄŸiÅŸken isimleriyle Ã§alÄ±ÅŸmak daha kolay hale gelir ve kodunuz daha okunabilir olur.</p>
<p><strong><code>clean_names()</code> fonksiyonu hangi iÅŸlemleri yapar?</strong></p>
<ul>
<li><p><strong>BÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf dÃ¶nÃ¼ÅŸÃ¼mÃ¼:</strong> TÃ¼m harfleri kÃ¼Ã§Ã¼k harfe dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.</p></li>
<li><p><strong>BoÅŸluklarÄ±n kaldÄ±rÄ±lmasÄ±:</strong> DeÄŸiÅŸken isimlerindeki boÅŸluklarÄ± kaldÄ±rÄ±r veya alt Ã§izgi (_) ile deÄŸiÅŸtirir.</p></li>
<li><p><strong>Ã–zel karakterlerin kaldÄ±rÄ±lmasÄ±:</strong> Noktalama iÅŸaretleri ve diÄŸer Ã¶zel karakterleri kaldÄ±rÄ±r veya alt Ã§izgi (_) ile deÄŸiÅŸtirir.</p></li>
<li><p><strong>SayÄ±larÄ±n eklenmesi:</strong> DeÄŸiÅŸken isimlerinin baÅŸÄ±na veya sonuna sayÄ±lar ekler (eÄŸer aynÄ± isimde birden fazla deÄŸiÅŸken varsa).</p></li>
<li><p><strong>Standart formata dÃ¶nÃ¼ÅŸtÃ¼rme:</strong> DeÄŸiÅŸken isimlerini â€œsnake_caseâ€ (alt Ã§izgi ile ayrÄ±lmÄ±ÅŸ kÃ¼Ã§Ã¼k harfli kelimeler) gibi standart bir formata dÃ¶nÃ¼ÅŸtÃ¼rÃ¼r.</p></li>
</ul>
<p><strong><code>clean_names()</code> fonksiyonu nasÄ±l kullanÄ±lÄ±r?</strong></p>
<p><code>clean_names()</code> fonksiyonunu kullanmak iÃ§in Ã¶ncelikle <code>janitor</code> paketini yÃ¼klemeniz gerekir:</p>
<p>install.packages(â€œjanitorâ€)</p>
<p>library(janitor)</p>
</div>
</div>
</section>
<section id="arrange" class="level2">
<h2 class="anchored" data-anchor-id="arrange">3. arrange()</h2>
<p>Temel bir R fonksiyonu olan <code>sort()</code> fonksiyonu bir vektÃ¶rÃ¼ sÄ±ralar, ancak bir veri Ã§erÃ§evesini sÄ±ralamaz. <code>arrange()</code> fonksiyonu ise bir veri Ã§erÃ§evesini sÄ±ralar. <code>arrange()</code> fonksiyonunu bir veri Ã§erÃ§evesinde kullanmak iÃ§in, veri Ã§erÃ§evesini ve sÄ±ralamak istediÄŸiniz sÃ¼tunu belirtmeniz gerekir. AyrÄ±ca, sÄ±ralama yÃ¶nÃ¼nÃ¼ de belirtmeniz gerekir. Birden Ã§ok sÄ±ralama koÅŸulu belirtmek, eÅŸitlikleri Ã§Ã¶zmeye yardÄ±mcÄ± olur.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(term_length))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 Ã— 6
   name       start      end        party      term_length elected
   &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;
 1 Eisenhower 1953-01-20 1961-01-20 Republican        8       1952
 2 Reagan     1981-01-20 1989-01-20 Republican        8       1980
 3 Clinton    1993-01-20 2001-01-20 Democratic        8       1992
 4 Bush       2001-01-20 2009-01-20 Republican        8       2000
 5 Obama      2009-01-20 2017-01-20 Democratic        8       2008
 6 Nixon      1969-01-20 1974-08-09 Republican        5.55    1968
 7 Johnson    1963-11-22 1969-01-20 Democratic        5.16    1962
 8 Carter     1977-01-20 1981-01-20 Democratic        4       1976
 9 Bush       1989-01-20 1993-01-20 Republican        4       1988
10 Trump      2017-01-20 2021-01-20 Republican        4       2016
11 Kennedy    1961-01-20 1963-11-22 Democratic        2.84    1960
12 Ford       1974-08-09 1977-01-20 Republican        2.45    1973</code></pre>
</div>
</div>
<p>BaÅŸkanlÄ±k veri Ã§erÃ§evemizi her baÅŸkanÄ±n gÃ¶rev sÃ¼resinin uzunluÄŸuna gÃ¶re sÄ±ralamak iÃ§in, term_length sÃ¼tununun azalan sÄ±rada olmasÄ±nÄ± belirtiyoruz. AyrÄ±ca, parti ve seÃ§ilme yÄ±lÄ±na gÃ¶re de sÄ±ralama yapabiliriz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="sc">|&gt;</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(term_length), party, elected)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 Ã— 6
   name       start      end        party      term_length elected
   &lt;chr&gt;      &lt;date&gt;     &lt;date&gt;     &lt;chr&gt;            &lt;dbl&gt;   &lt;dbl&gt;
 1 Clinton    1993-01-20 2001-01-20 Democratic        8       1992
 2 Obama      2009-01-20 2017-01-20 Democratic        8       2008
 3 Eisenhower 1953-01-20 1961-01-20 Republican        8       1952
 4 Reagan     1981-01-20 1989-01-20 Republican        8       1980
 5 Bush       2001-01-20 2009-01-20 Republican        8       2000
 6 Nixon      1969-01-20 1974-08-09 Republican        5.55    1968
 7 Johnson    1963-11-22 1969-01-20 Democratic        5.16    1962
 8 Carter     1977-01-20 1981-01-20 Democratic        4       1976
 9 Bush       1989-01-20 1993-01-20 Republican        4       1988
10 Trump      2017-01-20 2021-01-20 Republican        4       2016
11 Kennedy    1961-01-20 1963-11-22 Democratic        2.84    1960
12 Ford       1974-08-09 1977-01-20 Republican        2.45    1973</code></pre>
</div>
</div>
</section>
<section id="summarize-ve-group_by" class="level2">
<h2 class="anchored" data-anchor-id="summarize-ve-group_by">4. summarize() ve group_by()</h2>
<p>Tek tablo analizi iÃ§in beÅŸ fiilimizden sonuncusu, neredeyse her zaman group_by() ile birlikte kullanÄ±lan summarize()â€™dÄ±r. Ã–nceki dÃ¶rt fiil, bir veri Ã§erÃ§evesini gÃ¼Ã§lÃ¼ ve esnek ÅŸekillerde iÅŸlemek iÃ§in bize araÃ§lar saÄŸladÄ±. Ancak yalnÄ±zca bu dÃ¶rt fiille gerÃ§ekleÅŸtirebileceÄŸimiz analizlerin kapsamÄ± sÄ±nÄ±rlÄ±dÄ±r. group_by() ile birlikte summarize() kullanmak ise bize karÅŸÄ±laÅŸtÄ±rmalar yapma imkanÄ± sunar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="sc">|&gt;</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">N =</span> <span class="fu">n</span>(), </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">first_year =</span> <span class="fu">min</span>(<span class="fu">year</span>(start)), </span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">last_year =</span> <span class="fu">max</span>(<span class="fu">year</span>(end)), </span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_dems =</span> <span class="fu">sum</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span>), </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">years =</span> <span class="fu">sum</span>(term_length), </span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_term_length =</span> <span class="fu">mean</span>(term_length)</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 6
      N first_year last_year num_dems years avg_term_length
  &lt;int&gt;      &lt;dbl&gt;     &lt;dbl&gt;    &lt;int&gt; &lt;dbl&gt;           &lt;dbl&gt;
1    12       1953      2021        5    68            5.67</code></pre>
</div>
</div>
<p>Sonraki iki deÄŸiÅŸken, bu baÅŸkanlardan birinin gÃ¶reve baÅŸladÄ±ÄŸÄ± ilk yÄ±lÄ± ve en son baÅŸkanÄ±n gÃ¶revinin bittiÄŸi yÄ±lÄ± belirler. Ä°lki, <code>start</code> sÃ¼tunundaki en kÃ¼Ã§Ã¼k yÄ±l, ikincisi ise <code>end</code> sÃ¼tunundaki en bÃ¼yÃ¼k yÄ±ldÄ±r. <code>num_dems</code> deÄŸiÅŸkeni, <code>party</code> deÄŸiÅŸkeninin â€œDemocraticâ€ olduÄŸu satÄ±r sayÄ±sÄ±nÄ± sayar. Son iki deÄŸiÅŸken ise <code>term_length</code> deÄŸiÅŸkeninin toplamÄ±nÄ± ve ortalamasÄ±nÄ± hesaplar. SonuÃ§lar gÃ¶steriyor ki, 1953â€™ten 2021â€™e kadar gÃ¶rev yapan 12 baÅŸkandan 5â€™i Demokratâ€™tÄ±r ve bu 68 yÄ±llÄ±k dÃ¶nemde ortalama gÃ¶rev sÃ¼resi yaklaÅŸÄ±k 5,6 yÄ±ldÄ±r.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>my_presidents <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(party) <span class="sc">|&gt;</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">N =</span> <span class="fu">n</span>(), </span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">first_year =</span> <span class="fu">min</span>(<span class="fu">year</span>(start)), </span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">last_year =</span> <span class="fu">max</span>(<span class="fu">year</span>(end)), </span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">num_president =</span> <span class="fu">sum</span>(party <span class="sc">==</span> <span class="st">"Democratic"</span> <span class="sc">|</span> party <span class="sc">==</span> <span class="st">"Republican"</span>), </span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">years =</span> <span class="fu">sum</span>(term_length), </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">avg_term_length =</span> <span class="fu">mean</span>(term_length)</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 Ã— 7
  party          N first_year last_year num_president years avg_term_length
  &lt;chr&gt;      &lt;int&gt;      &lt;dbl&gt;     &lt;dbl&gt;         &lt;int&gt; &lt;dbl&gt;           &lt;dbl&gt;
1 Democratic     5       1961      2017             5    28            5.6 
2 Republican     7       1953      2021             7    40            5.71</code></pre>
</div>
</div>
</section>
<section id="dplyr-iÃ§in-bir-ek-Ã¶rnek" class="level2">
<h2 class="anchored" data-anchor-id="dplyr-iÃ§in-bir-ek-Ã¶rnek">Dplyr iÃ§in bir ek Ã¶rnek</h2>
<p>Bu Ã¶rnekte <code>dplyr</code>â€™Ä±n temel veri iÅŸleme fiillerini keÅŸfetmek iÃ§in <code>nycflights13::flights</code> veri setini kullanacaÄŸÄ±z. Bu veri Ã§erÃ§evesi, 2013 yÄ±lÄ±nda New York ÅŸehrinden kalkan 336.776 uÃ§uÅŸun tamamÄ±nÄ± iÃ§erir. Veriler ABD UlaÅŸtÄ±rma Ä°statistikleri BÃ¼rosuâ€™ndan alÄ±nmÄ±ÅŸtÄ±r ve <code>?flights</code> komutu ile dokÃ¼mantasyonuna eriÅŸebilirsiniz.</p>
<section id="filter" class="level3">
<h3 class="anchored" data-anchor-id="filter">1. filter()</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     1      517            515         2      830            819
2  2013     1     1      533            529         4      850            830
3  2013     1     1      542            540         2      923            850
4  2013     1     1      544            545        -1     1004           1022
5  2013     1     1      554            600        -6      812            837
6  2013     1     1      554            558        -4      740            728
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>jan1 <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">1</span>, day <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(jan1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     1      517            515         2      830            819
2  2013     1     1      533            529         4      850            830
3  2013     1     1      542            540         2      923            850
4  2013     1     1      544            545        -1     1004           1022
5  2013     1     1      554            600        -6      812            837
6  2013     1     1      554            558        -4      740            728
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Râ€™da KullanÄ±lan Boolean operatÃ¶rler</strong></p>
<p><img src="images/boolean_operators.png" class="img-fluid"></p>
</div>
</div>
<p>AÅŸaÄŸÄ±daki kod, KasÄ±m veya AralÄ±k aylarÄ±nda kalkan tÃ¼m uÃ§uÅŸlarÄ± bulur:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(month <span class="sc">==</span> <span class="dv">11</span> <span class="sc">|</span> month <span class="sc">==</span> <span class="dv">12</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013    11     1        5           2359         6      352            345
2  2013    11     1       35           2250       105      123           2356
3  2013    11     1      455            500        -5      641            651
4  2013    11     1      539            545        -6      856            827
5  2013    11     1      542            545        -3      831            855
6  2013    11     1      549            600       -11      912            923
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Bu kod iÃ§in kullanÄ±ÅŸlÄ± bir kÄ±saltma <code>x %in% y</code>â€™dir. Bu, <code>x</code>â€™in <code>y</code> iÃ§indeki deÄŸerlerden biri olduÄŸu her satÄ±rÄ± seÃ§ecektir. YukarÄ±daki kodu yeniden yazmak iÃ§in kullanabiliriz:</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>nov_dec <span class="ot">&lt;-</span> <span class="fu">filter</span>(flights, month <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">11</span>, <span class="dv">12</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>De Morgan yasasÄ±nÄ± hatÄ±rlayarak karmaÅŸÄ±k alt kÃ¼meleme iÅŸlemlerini basitleÅŸtirebilirsiniz. Bu matematiksel kural, mantÄ±ksal ifadelerin dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ saÄŸlar ve veri analizinde oldukÃ§a kullanÄ±ÅŸlÄ±dÄ±r. Ä°ki temel dÃ¶nÃ¼ÅŸÃ¼m ÅŸu ÅŸekildedir:</p>
<ol type="1">
<li><p><code>!(x &amp; y)</code>, <code>!x | !y</code> ile aynÄ±dÄ±r: Bu, â€œx ve yâ€™nin deÄŸiliâ€ ifadesinin â€œxâ€™in deÄŸili veya yâ€™nin deÄŸiliâ€ ile eÅŸdeÄŸer olduÄŸunu gÃ¶sterir.</p></li>
<li><p><code>!(x | y)</code>, <code>!x &amp; !y</code> ile aynÄ±dÄ±r: Bu da â€œx veya yâ€™nin deÄŸiliâ€ ifadesinin â€œxâ€™in deÄŸili ve yâ€™nin deÄŸiliâ€ ile eÅŸdeÄŸer olduÄŸunu belirtir.</p></li>
</ol>
<p>Bu kurallar, karmaÅŸÄ±k sorgularÄ± basitleÅŸtirmek ve daha etkili hale getirmek iÃ§in kullanÄ±labilir. Ã–rneÄŸin, havayolu verilerini analiz ederken, varÄ±ÅŸta veya kalkÄ±ÅŸta iki saatten fazla gecikmeyen uÃ§uÅŸlarÄ± bulmak istiyorsanÄ±z, ÅŸu iki filtreden birini kullanabilirsiniz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>((arr_delay <span class="sc">&gt;</span> <span class="dv">120</span> <span class="sc">|</span> dep_delay <span class="sc">&gt;</span> <span class="dv">120</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11,422 Ã— 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      811            630       101     1047            830
 2  2013     1     1      848           1835       853     1001           1950
 3  2013     1     1      957            733       144     1056            853
 4  2013     1     1     1114            900       134     1447           1222
 5  2013     1     1     1505           1310       115     1638           1431
 6  2013     1     1     1525           1340       105     1831           1626
 7  2013     1     1     1540           1338       122     2020           1825
 8  2013     1     1     1549           1445        64     1912           1656
 9  2013     1     1     1558           1359       119     1718           1515
10  2013     1     1     1732           1630        62     2028           1825
# â„¹ 11,412 more rows
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(arr_delay <span class="sc">&lt;=</span> <span class="dv">120</span>, dep_delay <span class="sc">&lt;=</span> <span class="dv">120</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 316,050 Ã— 19
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# â„¹ 316,040 more rows
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>âš ï¸ <code>filter()</code> yalnÄ±zca koÅŸulun DOÄRU olduÄŸu satÄ±rlarÄ± iÃ§erir; hem YANLIÅ hem de NA deÄŸerlerini hariÃ§ tutar. Eksik deÄŸerleri korumak istiyorsanÄ±z, bunlarÄ± aÃ§Ä±kÃ§a isteyin!</p>
</div>
</div>
</section>
<section id="filter-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma" class="level3">
<h3 class="anchored" data-anchor-id="filter-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma"><code>filter()</code> iÃ§in daha fazla alÄ±ÅŸtÄ±rma</h3>
<p>AÅŸaÄŸÄ±daki Ã¶zelliklere sahip uÃ§uÅŸlarÄ± bulun:</p>
<ul>
<li><p>VarÄ±ÅŸta iki saat veya daha fazla gecikme olan</p></li>
<li><p>Houstonâ€™a (IAH veya HOU) uÃ§an</p></li>
<li><p>United, American veya Delta tarafÄ±ndan iÅŸletilen</p></li>
<li><p>Yaz aylarÄ±nda (Temmuz, AÄŸustos ve EylÃ¼l) kalkan</p></li>
<li><p>Ä°ki saatten fazla gecikmeli varan, ancak kalkÄ±ÅŸta gecikme olmayan</p></li>
<li><p>En az bir saat gecikmeli, ancak uÃ§uÅŸ sÄ±rasÄ±nda 30 dakikadan fazla telafi eden</p></li>
<li><p>Gece yarÄ±sÄ± ile sabah 6 arasÄ±nda (dahil) kalkan</p></li>
</ul>
<p>Bir diÄŸer kullanÄ±ÅŸlÄ± <code>dplyr</code> filtreleme yardÄ±mcÄ±sÄ± <code>between()</code>â€™dÄ±r. Ne iÅŸe yarar? Ã–nceki sorularÄ± cevaplamak ve gereken kodu basitleÅŸtirmek iÃ§in kullanabilir misiniz?</p>
<p>KaÃ§ uÃ§uÅŸun <code>dep_time</code> deÄŸeri eksik? Hangi diÄŸer deÄŸiÅŸkenler eksik? Bu satÄ±rlar neyi temsil ediyor olabilir?</p>
</section>
<section id="arrange-1" class="level3">
<h3 class="anchored" data-anchor-id="arrange-1">2. arrange()</h3>
<p>arrange() fonksiyonu, filter() fonksiyonuna benzer ÅŸekilde Ã§alÄ±ÅŸÄ±r, ancak satÄ±rlarÄ± seÃ§mek yerine sÄ±ralarÄ±nÄ± deÄŸiÅŸtirir. Bu fonksiyon, sÄ±ralama iÅŸlemi iÃ§in bir veri Ã§erÃ§evesi ve bir dizi sÃ¼tun adÄ± (veya daha karmaÅŸÄ±k ifadeler) kullanÄ±r.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(year, month, day) <span class="sc">|&gt;</span> </span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     1      517            515         2      830            819
2  2013     1     1      533            529         4      850            830
3  2013     1     1      542            540         2      923            850
4  2013     1     1      544            545        -1     1004           1022
5  2013     1     1      554            600        -6      812            837
6  2013     1     1      554            558        -4      740            728
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<p>Azalan dÃ¼zende bir sÃ¼tuna gÃ¶re yeniden sÄ±ralamak iÃ§in <code>desc()</code> kullanÄ±n:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(dep_delay)) <span class="sc">|&gt;</span> </span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     9      641            900      1301     1242           1530
2  2013     6    15     1432           1935      1137     1607           2120
3  2013     1    10     1121           1635      1126     1239           1810
4  2013     9    20     1139           1845      1014     1457           2210
5  2013     7    22      845           1600      1005     1044           1815
6  2013     4    10     1100           1900       960     1342           2211
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>ğŸ‘‹ Eksik deÄŸerler her zaman sonda sÄ±ralanÄ±r!</p>
</div>
</div>
<section id="arrange-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma" class="level4">
<h4 class="anchored" data-anchor-id="arrange-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma"><strong>arrange iÃ§in daha fazla alÄ±ÅŸtÄ±rma</strong></h4>
<ul>
<li><p>TÃ¼m eksik deÄŸerleri baÅŸa sÄ±ralamak iÃ§in <code>arrange()</code> fonksiyonunu nasÄ±l kullanabilirsiniz? (Ä°pucu: <code>is.na()</code> kullanÄ±n).</p></li>
<li><p>UÃ§uÅŸlarÄ± en Ã§ok gecikmiÅŸ uÃ§uÅŸlarÄ± bulmak iÃ§in sÄ±ralayÄ±n. En erken kalkan uÃ§uÅŸlarÄ± bulun.</p></li>
<li><p>En hÄ±zlÄ± (en yÃ¼ksek hÄ±z) uÃ§uÅŸlarÄ± bulmak iÃ§in uÃ§uÅŸlarÄ± sÄ±ralayÄ±n.</p></li>
<li><p>Hangi uÃ§uÅŸlar en uzaÄŸa gitti? Hangileri en kÄ±sa mesafeyi kat etti?</p></li>
</ul>
</section>
</section>
<section id="select" class="level3">
<h3 class="anchored" data-anchor-id="select"><strong>3. <code>select()</code></strong></h3>
<p>YÃ¼zlerce hatta binlerce deÄŸiÅŸken iÃ§eren veri setlerine sahip olmak nadir deÄŸildir. Bu durumda, ilk zorluk genellikle gerÃ§ekten ilgilendiÄŸiniz deÄŸiÅŸkenlere odaklanmaktÄ±r. <code>select()</code> fonksiyonu, deÄŸiÅŸkenlerin adlarÄ±na dayalÄ± iÅŸlemler kullanarak yararlÄ± bir alt kÃ¼meye hÄ±zlÄ±ca odaklanmanÄ±zÄ± saÄŸlar.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year, month, day) <span class="sc">|&gt;</span> </span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 3
   year month   day
  &lt;int&gt; &lt;int&gt; &lt;int&gt;
1  2013     1     1
2  2013     1     1
3  2013     1     1
4  2013     1     1
5  2013     1     1
6  2013     1     1</code></pre>
</div>
</div>
<p><code>select()</code> iÃ§inde kullanabileceÄŸiniz bir dizi yardÄ±mcÄ± fonksiyon vardÄ±r:</p>
<ul>
<li><p><code>starts_with("abc")</code>: â€œabcâ€ ile baÅŸlayan isimleri eÅŸleÅŸtirir.</p></li>
<li><p><code>ends_with("xyz")</code>: â€œxyzâ€ ile biten isimleri eÅŸleÅŸtirir.</p></li>
<li><p><code>contains("ijk")</code>: â€œijkâ€ iÃ§eren isimleri eÅŸleÅŸtirir.</p></li>
<li><p><code>matches("(.)\\1")</code>: dÃ¼zenli bir ifadeyle eÅŸleÅŸen deÄŸiÅŸkenleri seÃ§er. Bu, tekrarlanan karakterler iÃ§eren herhangi bir deÄŸiÅŸkenle eÅŸleÅŸir. DÃ¼zenli ifadeler hakkÄ±nda daha fazla bilgiyi diziler bÃ¶lÃ¼mÃ¼nde Ã¶ÄŸreneceksiniz.</p></li>
<li><p><code>num_range("x", 1:3)</code>: x1, x2 ve x3 ile eÅŸleÅŸir.</p></li>
</ul>
<p>Daha fazla ayrÄ±ntÄ± iÃ§in <code>?select</code> komutuna bakÄ±n.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>ğŸ‘‹ <code>select()</code> fonksiyonu deÄŸiÅŸkenleri yeniden adlandÄ±rmak iÃ§in kullanÄ±labilir, ancak aÃ§Ä±kÃ§a belirtilmeyen tÃ¼m deÄŸiÅŸkenleri kaldÄ±rdÄ±ÄŸÄ± iÃ§in nadiren kullanÄ±ÅŸlÄ±dÄ±r. Bunun yerine, aÃ§Ä±kÃ§a belirtilmeyen tÃ¼m deÄŸiÅŸkenleri koruyan bir <code>select()</code> Ã§eÅŸidi olan <code>rename()</code> fonksiyonunu kullanÄ±n.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">tail_num =</span> tailnum) <span class="sc">|&gt;</span> </span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     1      517            515         2      830            819
2  2013     1     1      533            529         4      850            830
3  2013     1     1      542            540         2      923            850
4  2013     1     1      544            545        -1     1004           1022
5  2013     1     1      554            600        -6      812            837
6  2013     1     1      554            558        -4      740            728
# â„¹ 11 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tail_num &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>BaÅŸka bir seÃ§enek de <code>select()</code> fonksiyonunu <code>everything()</code> yardÄ±mcÄ±sÄ± ile birlikte kullanmaktÄ±r. Bu, veri Ã§erÃ§evesinin baÅŸÄ±na taÅŸÄ±mak istediÄŸiniz birkaÃ§ deÄŸiÅŸkeniniz varsa kullanÄ±ÅŸlÄ±dÄ±r.</p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(time_hour, air_time, <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 19
  time_hour           air_time  year month   day dep_time sched_dep_time
  &lt;dttm&gt;                 &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;
1 2013-01-01 05:00:00      227  2013     1     1      517            515
2 2013-01-01 05:00:00      227  2013     1     1      533            529
3 2013-01-01 05:00:00      160  2013     1     1      542            540
4 2013-01-01 05:00:00      183  2013     1     1      544            545
5 2013-01-01 06:00:00      116  2013     1     1      554            600
6 2013-01-01 05:00:00      150  2013     1     1      554            558
# â„¹ 12 more variables: dep_delay &lt;dbl&gt;, arr_time &lt;int&gt;, sched_arr_time &lt;int&gt;,
#   arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;,
#   dest &lt;chr&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section id="select-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma" class="level3">
<h3 class="anchored" data-anchor-id="select-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma"><code>select()</code> iÃ§in daha fazla alÄ±ÅŸtÄ±rma</h3>
<ul>
<li><p><code>flights</code> veri setinden <code>dep_time</code>, <code>dep_delay</code>, <code>arr_time</code> ve <code>arr_delay</code> deÄŸiÅŸkenlerini seÃ§mek iÃ§in mÃ¼mkÃ¼n olduÄŸunca Ã§ok yol dÃ¼ÅŸÃ¼nÃ¼n.</p></li>
<li><p>Bir <code>select()</code> Ã§aÄŸrÄ±sÄ±nda bir deÄŸiÅŸkenin adÄ±nÄ± birden Ã§ok kez eklerseniz ne olur?</p></li>
<li><p><code>any_of()</code> fonksiyonu ne iÅŸe yarar? Bu vektÃ¶rle birlikte neden yardÄ±mcÄ± olabilir?</p></li>
</ul>
<pre><code>vars &lt;- c("year", "month", "day", "dep_delay", "arr_delay")</code></pre>
<ul>
<li>AÅŸaÄŸÄ±daki kodu Ã§alÄ±ÅŸtÄ±rmanÄ±n sonucu sizi ÅŸaÅŸÄ±rtÄ±yor mu? <code>select()</code> yardÄ±mcÄ±larÄ± varsayÄ±lan olarak bÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harfle nasÄ±l baÅŸa Ã§Ä±kÄ±yor? Bu varsayÄ±lanÄ± nasÄ±l deÄŸiÅŸtirebilirsiniz?</li>
</ul>
<pre><code>select(flights, contains("TIME"))</code></pre>
</section>
<section id="mutate" class="level3">
<h3 class="anchored" data-anchor-id="mutate"><code>4. mutate()</code></h3>
<p><code>mutate()</code> her zaman veri setinizin sonuna yeni sÃ¼tunlar ekler, bu nedenle yeni deÄŸiÅŸkenleri gÃ¶rebilmemiz iÃ§in daha dar bir veri seti oluÅŸturarak baÅŸlayacaÄŸÄ±z.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">gain =</span> dep_delay <span class="sc">-</span> arr_time,</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hours =</span> air_time <span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">gain_per_hour =</span> gain<span class="sc">/</span>hours</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>  )<span class="sc">|&gt;</span> </span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 22
   year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
  &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
1  2013     1     1      517            515         2      830            819
2  2013     1     1      533            529         4      850            830
3  2013     1     1      542            540         2      923            850
4  2013     1     1      544            545        -1     1004           1022
5  2013     1     1      554            600        -6      812            837
6  2013     1     1      554            558        -4      740            728
# â„¹ 14 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, gain &lt;dbl&gt;, hours &lt;dbl&gt;,
#   gain_per_hour &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>flights_sml <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(year<span class="sc">:</span>day, </span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>         <span class="fu">ends_with</span>(<span class="st">"delay"</span>),</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>         distance,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>         air_time, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>         arr_time,</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>         dep_time) <span class="sc">|&gt;</span> </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">gain =</span> dep_delay <span class="sc">-</span> arr_time,</span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">hours =</span> air_time <span class="sc">/</span><span class="dv">60</span>,</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">gain_per_hour =</span> gain<span class="sc">/</span>hours</span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span> </span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gain_per_hour)) <span class="sc">|&gt;</span> </span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gain_per_hour, <span class="fu">everything</span>()) <span class="sc">|&gt;</span> </span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(gain_per_hour <span class="sc">&gt;</span> <span class="dv">400</span>)</span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(flights_sml)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 Ã— 12
  gain_per_hour  year month   day dep_delay arr_delay distance air_time arr_time
          &lt;dbl&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;    &lt;int&gt;
1          580.  2013     6    27       419       387      246       40       32
2          488.  2013     2    26       236       217      143       24       41
3          428.  2013     7    22       898       895      762      109      121
4          420   2013     7    22       483       463      277       47      154
# â„¹ 3 more variables: dep_time &lt;int&gt;, gain &lt;dbl&gt;, hours &lt;dbl&gt;</code></pre>
</div>
</div>
<p>EÄŸer sadece yeni deÄŸiÅŸkenleri tutmak istiyorsanÄ±z, <code>transmute()</code> fonksiyonunu kullanÄ±n:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">gain =</span> dep_delay <span class="sc">-</span> arr_delay,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">hours =</span> air_time <span class="sc">/</span> <span class="dv">60</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">gain_per_hour =</span> gain <span class="sc">/</span> hours)<span class="sc">|&gt;</span> </span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 3
   gain hours gain_per_hour
  &lt;dbl&gt; &lt;dbl&gt;         &lt;dbl&gt;
1    -9  3.78         -2.38
2   -16  3.78         -4.23
3   -31  2.67        -11.6 
4    17  3.05          5.57
5    19  1.93          9.83
6   -16  2.5          -6.4 </code></pre>
</div>
</div>
</section>
<section id="mutate-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma" class="level3">
<h3 class="anchored" data-anchor-id="mutate-iÃ§in-daha-fazla-alÄ±ÅŸtÄ±rma"><code>mutate()</code> iÃ§in daha fazla alÄ±ÅŸtÄ±rma</h3>
<ul>
<li><p>Åu anda <code>dep_time</code> ve <code>sched_dep_time</code> deÄŸiÅŸkenlerine bakmak kolay, ancak gerÃ§ekte sÃ¼rekli sayÄ±lar olmadÄ±klarÄ± iÃ§in hesaplamalar yapmak zor. BunlarÄ± gece yarÄ±sÄ±ndan itibaren geÃ§en dakika sayÄ±sÄ±nÄ±n daha uygun bir gÃ¶sterimine dÃ¶nÃ¼ÅŸtÃ¼rÃ¼n.</p></li>
<li><p><code>air_time</code> ile <code>arr_time - dep_time</code> karÅŸÄ±laÅŸtÄ±rmasÄ±nÄ± yapÄ±n. Ne gÃ¶rmeyi bekliyorsunuz? Ne gÃ¶rÃ¼yorsunuz? DÃ¼zeltmek iÃ§in ne yapmanÄ±z gerekiyor?</p></li>
<li><p><code>dep_time</code>, <code>sched_dep_time</code> ve <code>dep_delay</code> deÄŸiÅŸkenlerini karÅŸÄ±laÅŸtÄ±rÄ±n. Bu Ã¼Ã§ sayÄ±nÄ±n nasÄ±l iliÅŸkili olmasÄ±nÄ± beklersiniz?</p></li>
<li><p>Bir sÄ±ralama fonksiyonu kullanarak en Ã§ok gecikmeli 10 uÃ§uÅŸu bulun. EÅŸitlikleri nasÄ±l ele almak istiyorsunuz? <code>min_rank()</code> fonksiyonunun dokÃ¼mantasyonunu dikkatlice okuyun.</p></li>
<li><p><code>1:3 + 1:10</code> ne dÃ¶ndÃ¼rÃ¼r? Neden?</p></li>
<li><p>R hangi trigonometrik fonksiyonlarÄ± saÄŸlar?</p></li>
</ul>
</section>
<section id="summarise" class="level3">
<h3 class="anchored" data-anchor-id="summarise"><code>5. summarise()</code></h3>
<p>Son anahtar fiil <code>summarise()</code>â€™dÄ±r. Bir veri Ã§erÃ§evesini tek bir satÄ±ra daraltÄ±r:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delay=</span><span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 Ã— 1
  delay
  &lt;dbl&gt;
1  12.6</code></pre>
</div>
</div>
<p><code>summarise()</code> fonksiyonu, <code>group_by()</code> ile eÅŸleÅŸtirilmedikÃ§e Ã§ok kullanÄ±ÅŸlÄ± deÄŸildir. Bu, analiz birimini tÃ¼m veri setinden bireysel gruplara deÄŸiÅŸtirir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(year, month, day) <span class="sc">|&gt;</span> </span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> T))<span class="sc">|&gt;</span> </span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`summarise()` has grouped output by 'year', 'month'. You can override using the
`.groups` argument.</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 4
# Groups:   year, month [1]
   year month   day delay
  &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt;
1  2013     1     1 11.5 
2  2013     1     2 13.9 
3  2013     1     3 11.0 
4  2013     1     4  8.95
5  2013     1     5  5.73
6  2013     1     6  7.15</code></pre>
</div>
</div>
</section>
<section id="birden-Ã§ok-iÅŸlemi-birleÅŸtirme" class="level3">
<h3 class="anchored" data-anchor-id="birden-Ã§ok-iÅŸlemi-birleÅŸtirme">Birden Ã§ok iÅŸlemi birleÅŸtirme</h3>
<p>Her konum iÃ§in mesafe ve ortalama gecikme arasÄ±ndaki iliÅŸkiyi incelemek istediÄŸimizi hayal edin. <code>dplyr</code> hakkÄ±nda bildiklerinizi kullanarak ÅŸu ÅŸekilde bir kod yazabilirsiniz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(dest) <span class="sc">%&gt;%</span> </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">count =</span> <span class="fu">n</span>(),</span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">dist =</span> <span class="fu">mean</span>(distance, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">delay =</span> <span class="fu">mean</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(count <span class="sc">&gt;</span> <span class="dv">20</span>, dest <span class="sc">!=</span> <span class="st">"HNL"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> dist, <span class="at">y =</span> delay)) <span class="sc">+</span></span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> count), <span class="at">alpha =</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">se =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>`geom_smooth()` using method = 'loess' and formula = 'y ~ x'</code></pre>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="week_5_veri_isleme_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt; `geom_smooth()` using method = 'loess' and formula = 'y ~ x'</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="co"># It looks like delays increase with distance up to ~750 miles </span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co"># and then decrease. Maybe as flights get longer there's more </span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ability to make up delays in the air?</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
</section>
<section id="dÃ¼zenli-tidy-veri-ve-rda-veri-dÃ¼zenleme" class="level1">
<h1>DÃ¼zenli (Tidy) Veri ve Râ€™da Veri DÃ¼zenleme</h1>
<p>Veri dÃ¼zenleme, Râ€™da verileri â€œdÃ¼zenli veriâ€ (tidy data) adÄ± verilen bir sistem kullanarak tutarlÄ± bir ÅŸekilde organize etmeyi ifade eder. Verilerinizi bu formata getirmek baÅŸlangÄ±Ã§ta biraz Ã§aba gerektirir, ancak bu Ã§aba uzun vadede karÅŸÄ±lÄ±ÄŸÄ±nÄ± verir. DÃ¼zenli verilere ve <code>tidyverse</code> paketlerinin saÄŸladÄ±ÄŸÄ± dÃ¼zenli araÃ§lara sahip olduÄŸunuzda, verileri bir gÃ¶sterimden diÄŸerine dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in Ã§ok daha az zaman harcarsÄ±nÄ±z. BÃ¶ylece, Ã¶nemsediÄŸiniz veri sorularÄ±na daha fazla zaman ayÄ±rabilirsiniz.</p>
<p>Bir veri setini dÃ¼zenli hale getiren birbiriyle iliÅŸkili Ã¼Ã§ kural vardÄ±r:</p>
<ul>
<li><p>Her deÄŸiÅŸken bir sÃ¼tundur; her sÃ¼tun bir deÄŸiÅŸkendir.</p></li>
<li><p>Her gÃ¶zlem bir satÄ±rdÄ±r; her satÄ±r bir gÃ¶zlemdir.</p></li>
<li><p>Her deÄŸer bir hÃ¼credir; her hÃ¼cre tek bir deÄŸerdir.</p></li>
</ul>
<p>Bu kurallar, Ã§oÄŸu gerÃ§ek analizin en azÄ±ndan biraz dÃ¼zenleme gerektireceÄŸi anlamÄ±na gelir. Ä°ÅŸe temel deÄŸiÅŸkenlerin ve gÃ¶zlemlerin ne olduÄŸunu anlayarak baÅŸlarsÄ±nÄ±z. Bu bazen kolaydÄ±r; diÄŸer zamanlarda verileri orijinal olarak oluÅŸturan kiÅŸilere danÄ±ÅŸmanÄ±z gerekebilir. ArdÄ±ndan, verilerinizi sÃ¼tunlarda deÄŸiÅŸkenler ve satÄ±rlarda gÃ¶zlemler olacak ÅŸekilde dÃ¼zenli bir forma dÃ¶nÃ¼ÅŸtÃ¼rÃ¼rsÃ¼nÃ¼z.</p>
<p><code>tidyr</code> paketi, verileri dÃ¶nÃ¼ÅŸtÃ¼rmek iÃ§in iki fonksiyon saÄŸlar: <code>pivot_longer()</code> ve <code>pivot_wider()</code>. Ä°lk Ã¶nce <code>pivot_longer()</code> ile baÅŸlayacaÄŸÄ±z Ã§Ã¼nkÃ¼ en yaygÄ±n durum budur.</p>
<section id="pivot_longer" class="level2">
<h2 class="anchored" data-anchor-id="pivot_longer"><code>1. pivot_longer()</code></h2>
<p><code>billboard</code> veri seti, 2000 yÄ±lÄ±ndaki ÅŸarkÄ±larÄ±n Billboard sÄ±ralamasÄ±nÄ± kaydeder:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(billboard)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 79
  artist      track date.entered   wk1   wk2   wk3   wk4   wk5   wk6   wk7   wk8
  &lt;chr&gt;       &lt;chr&gt; &lt;date&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1 2 Pac       Babyâ€¦ 2000-02-26      87    82    72    77    87    94    99    NA
2 2Ge+her     The â€¦ 2000-09-02      91    87    92    NA    NA    NA    NA    NA
3 3 Doors Doâ€¦ Krypâ€¦ 2000-04-08      81    70    68    67    66    57    54    53
4 3 Doors Doâ€¦ Loser 2000-10-21      76    76    72    69    67    65    55    59
5 504 Boyz    Wobbâ€¦ 2000-04-15      57    34    25    17    17    31    36    49
6 98^0        Giveâ€¦ 2000-08-19      51    39    34    26    26    19     2     2
# â„¹ 68 more variables: wk9 &lt;dbl&gt;, wk10 &lt;dbl&gt;, wk11 &lt;dbl&gt;, wk12 &lt;dbl&gt;,
#   wk13 &lt;dbl&gt;, wk14 &lt;dbl&gt;, wk15 &lt;dbl&gt;, wk16 &lt;dbl&gt;, wk17 &lt;dbl&gt;, wk18 &lt;dbl&gt;,
#   wk19 &lt;dbl&gt;, wk20 &lt;dbl&gt;, wk21 &lt;dbl&gt;, wk22 &lt;dbl&gt;, wk23 &lt;dbl&gt;, wk24 &lt;dbl&gt;,
#   wk25 &lt;dbl&gt;, wk26 &lt;dbl&gt;, wk27 &lt;dbl&gt;, wk28 &lt;dbl&gt;, wk29 &lt;dbl&gt;, wk30 &lt;dbl&gt;,
#   wk31 &lt;dbl&gt;, wk32 &lt;dbl&gt;, wk33 &lt;dbl&gt;, wk34 &lt;dbl&gt;, wk35 &lt;dbl&gt;, wk36 &lt;dbl&gt;,
#   wk37 &lt;dbl&gt;, wk38 &lt;dbl&gt;, wk39 &lt;dbl&gt;, wk40 &lt;dbl&gt;, wk41 &lt;dbl&gt;, wk42 &lt;dbl&gt;,
#   wk43 &lt;dbl&gt;, wk44 &lt;dbl&gt;, wk45 &lt;dbl&gt;, wk46 &lt;dbl&gt;, wk47 &lt;dbl&gt;, wk48 &lt;dbl&gt;, â€¦</code></pre>
</div>
</div>
<p>Bu veri setinde her bir gÃ¶zlem bir ÅŸarkÄ±dÄ±r. Ä°lk Ã¼Ã§ sÃ¼tun (<code>artist</code>, <code>track</code> ve <code>date.entered</code>) ÅŸarkÄ±yÄ± tanÄ±mlayan deÄŸiÅŸkenlerdir. Sonra her hafta ÅŸarkÄ±nÄ±n sÄ±ralamasÄ±nÄ± tanÄ±mlayan 76 sÃ¼tunumuz (<code>wk1-wk76</code>) var. Burada, sÃ¼tun adlarÄ± bir deÄŸiÅŸkendir (hafta) ve hÃ¼cre deÄŸerleri baÅŸka bir deÄŸiÅŸkendir (sÄ±ralama).</p>
<p>Bu verileri dÃ¼zenlemek iÃ§in <code>pivot_longer()</code> fonksiyonunu kullanacaÄŸÄ±z:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>billboard <span class="sc">|&gt;</span> </span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">"wk"</span>),</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">"week"</span>,</span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"rank"</span>,</span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_drop_na =</span> <span class="cn">TRUE</span></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,307 Ã— 5
   artist  track                   date.entered week   rank
   &lt;chr&gt;   &lt;chr&gt;                   &lt;date&gt;       &lt;chr&gt; &lt;dbl&gt;
 1 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk1      87
 2 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk2      82
 3 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk3      72
 4 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk4      77
 5 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk5      87
 6 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk6      94
 7 2 Pac   Baby Don't Cry (Keep... 2000-02-26   wk7      99
 8 2Ge+her The Hardest Part Of ... 2000-09-02   wk1      91
 9 2Ge+her The Hardest Part Of ... 2000-09-02   wk2      87
10 2Ge+her The Hardest Part Of ... 2000-09-02   wk3      92
# â„¹ 5,297 more rows</code></pre>
</div>
</div>
<p>Burada Ã¼Ã§ Ã¶nemli argÃ¼man vardÄ±r:</p>
<ul>
<li><p><code>cols</code>: Hangi sÃ¼tunlarÄ±n dÃ¶nÃ¼ÅŸtÃ¼rÃ¼lmesi gerektiÄŸini, yani hangi sÃ¼tunlarÄ±n deÄŸiÅŸken olmadÄ±ÄŸÄ±nÄ± belirtir. Bu argÃ¼man <code>select()</code> ile aynÄ± sÃ¶zdizimini kullanÄ±r, bu nedenle burada <code>!c(artist, track, date.entered)</code> veya <code>starts_with("wk")</code> kullanabiliriz.</p></li>
<li><p><code>names_to</code>: SÃ¼tun adlarÄ±nda depolanan deÄŸiÅŸkeni adlandÄ±rÄ±r, biz bu deÄŸiÅŸkene <code>week</code> adÄ±nÄ± verdik.</p></li>
<li><p><code>values_to</code>: HÃ¼cre deÄŸerlerinde depolanan deÄŸiÅŸkeni adlandÄ±rÄ±r, biz bu deÄŸiÅŸkene <code>rank</code> adÄ±nÄ± verdik.</p></li>
<li><p><code>values_drop_na</code>: <code>TRUE</code>, NAâ€™lÄ± satÄ±rlarÄ±n bÄ±rakÄ±ldÄ±ÄŸÄ± anlamÄ±na gelir.</p></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>ğŸ‘‹ Kodda â€œweekâ€ ve â€œrankâ€ kelimelerinin tÄ±rnak iÃ§inde olduÄŸuna dikkat edin Ã§Ã¼nkÃ¼ bunlar oluÅŸturduÄŸumuz yeni deÄŸiÅŸkenlerdir, <code>pivot_longer()</code> Ã§aÄŸrÄ±sÄ±nÄ± Ã§alÄ±ÅŸtÄ±rdÄ±ÄŸÄ±mÄ±zda henÃ¼z verilerde mevcut deÄŸillerdir.</p>
</div>
</div>
<section id="baÅŸka-bir-Ã¶rnek-pivot_longer" class="level3">
<h3 class="anchored" data-anchor-id="baÅŸka-bir-Ã¶rnek-pivot_longer">BaÅŸka bir Ã¶rnek: pivot_longer()</h3>
<p>SÃ¼tun adlarÄ±na sÄ±kÄ±ÅŸtÄ±rÄ±lmÄ±ÅŸ birden Ã§ok bilgi parÃ§asÄ±na sahip olduÄŸunuzda ve bunlarÄ± ayrÄ± yeni deÄŸiÅŸkenlerde depolamak istediÄŸinizde daha zorlu bir durum ortaya Ã§Ä±kar. Ã–rneÄŸin, <code>table1</code> ve <code>friends</code> tablolarÄ±nÄ±n kaynaÄŸÄ± olan <code>who2</code> veri setini ele alalÄ±m:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(who2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 58
  country      year sp_m_014 sp_m_1524 sp_m_2534 sp_m_3544 sp_m_4554 sp_m_5564
  &lt;chr&gt;       &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 Afghanistan  1980       NA        NA        NA        NA        NA        NA
2 Afghanistan  1981       NA        NA        NA        NA        NA        NA
3 Afghanistan  1982       NA        NA        NA        NA        NA        NA
4 Afghanistan  1983       NA        NA        NA        NA        NA        NA
5 Afghanistan  1984       NA        NA        NA        NA        NA        NA
6 Afghanistan  1985       NA        NA        NA        NA        NA        NA
# â„¹ 50 more variables: sp_m_65 &lt;dbl&gt;, sp_f_014 &lt;dbl&gt;, sp_f_1524 &lt;dbl&gt;,
#   sp_f_2534 &lt;dbl&gt;, sp_f_3544 &lt;dbl&gt;, sp_f_4554 &lt;dbl&gt;, sp_f_5564 &lt;dbl&gt;,
#   sp_f_65 &lt;dbl&gt;, sn_m_014 &lt;dbl&gt;, sn_m_1524 &lt;dbl&gt;, sn_m_2534 &lt;dbl&gt;,
#   sn_m_3544 &lt;dbl&gt;, sn_m_4554 &lt;dbl&gt;, sn_m_5564 &lt;dbl&gt;, sn_m_65 &lt;dbl&gt;,
#   sn_f_014 &lt;dbl&gt;, sn_f_1524 &lt;dbl&gt;, sn_f_2534 &lt;dbl&gt;, sn_f_3544 &lt;dbl&gt;,
#   sn_f_4554 &lt;dbl&gt;, sn_f_5564 &lt;dbl&gt;, sn_f_65 &lt;dbl&gt;, ep_m_014 &lt;dbl&gt;,
#   ep_m_1524 &lt;dbl&gt;, ep_m_2534 &lt;dbl&gt;, ep_m_3544 &lt;dbl&gt;, ep_m_4554 &lt;dbl&gt;, â€¦</code></pre>
</div>
</div>
<p>DÃ¼nya SaÄŸlÄ±k Ã–rgÃ¼tÃ¼ tarafÄ±ndan toplanan bu veri seti, tÃ¼berkÃ¼loz teÅŸhisleri hakkÄ±nda bilgi kaydeder. Zaten deÄŸiÅŸken olan ve yorumlanmasÄ± kolay iki sÃ¼tun vardÄ±r: <code>country</code> ve <code>year</code>. BunlarÄ± <code>sp_m_014</code>, <code>ep_m_4554</code> ve <code>rel_m_3544</code> gibi 56 sÃ¼tun izler. Bu sÃ¼tunlara yeterince uzun sÃ¼re bakarsanÄ±z, bir kalÄ±p olduÄŸunu fark edeceksiniz. Her sÃ¼tun adÄ± _ ile ayrÄ±lmÄ±ÅŸ Ã¼Ã§ parÃ§adan oluÅŸur. Ä°lk parÃ§a, <code>sp/rel/ep</code>, teÅŸhis iÃ§in kullanÄ±lan yÃ¶ntemi, ikinci parÃ§a, <code>m/f</code> cinsiyeti (bu veri setinde ikili bir deÄŸiÅŸken olarak kodlanmÄ±ÅŸtÄ±r) ve Ã¼Ã§Ã¼ncÃ¼ parÃ§a, <code>014/1524/2534/3544/4554/5564/65</code> yaÅŸ aralÄ±ÄŸÄ±nÄ± aÃ§Ä±klar (Ã¶rneÄŸin, 014, 0-14â€™Ã¼ temsil eder).</p>
<p>Yani bu durumda <code>who2</code>â€™de kaydedilmiÅŸ altÄ± bilgi parÃ§amÄ±z var: Ã¼lke ve yÄ±l (zaten sÃ¼tunlar); teÅŸhis yÃ¶ntemi, cinsiyet kategorisi ve yaÅŸ aralÄ±ÄŸÄ± kategorisi (diÄŸer sÃ¼tun adlarÄ±nda bulunur); ve bu kategorideki hasta sayÄ±sÄ± (hÃ¼cre deÄŸerleri). Bu altÄ± bilgi parÃ§asÄ±nÄ± altÄ± ayrÄ± sÃ¼tunda dÃ¼zenlemek iÃ§in, <code>names_to</code> iÃ§in bir sÃ¼tun adÄ± vektÃ¶rÃ¼ ve orijinal deÄŸiÅŸken adlarÄ±nÄ± <code>names_sep</code> iÃ§in parÃ§alara ayÄ±rmak Ã¼zere talimatlar ve <code>values_to</code> iÃ§in bir sÃ¼tun adÄ± ile <code>pivot_longer()</code> kullanÄ±rÄ±z:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>who2 <span class="sc">|&gt;</span> </span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="sc">!</span>(country<span class="sc">:</span>year),</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">"diagnosis"</span>, <span class="st">"gender"</span>, <span class="st">"age"</span>),</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">"_"</span>,</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">"count"</span></span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 405,440 Ã— 6
   country      year diagnosis gender age   count
   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;  &lt;chr&gt; &lt;dbl&gt;
 1 Afghanistan  1980 sp        m      014      NA
 2 Afghanistan  1980 sp        m      1524     NA
 3 Afghanistan  1980 sp        m      2534     NA
 4 Afghanistan  1980 sp        m      3544     NA
 5 Afghanistan  1980 sp        m      4554     NA
 6 Afghanistan  1980 sp        m      5564     NA
 7 Afghanistan  1980 sp        m      65       NA
 8 Afghanistan  1980 sp        f      014      NA
 9 Afghanistan  1980 sp        f      1524     NA
10 Afghanistan  1980 sp        f      2534     NA
# â„¹ 405,430 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="pivot_wider" class="level2">
<h2 class="anchored" data-anchor-id="pivot_wider">2. Pivot_wider()</h2>
<p>Åimdiye kadar, deÄŸerlerin sÃ¼tun adlarÄ±nda yer aldÄ±ÄŸÄ± yaygÄ±n sorun sÄ±nÄ±fÄ±nÄ± Ã§Ã¶zmek iÃ§in <code>pivot_longer()</code> kullandÄ±k. Åimdi, sÃ¼tunlarÄ± artÄ±rarak ve satÄ±rlarÄ± azaltarak veri setlerini daha geniÅŸ hale getiren <code>pivot_wider()</code>â€™a geÃ§eceÄŸiz (HA HA) ve tek bir gÃ¶zlemin birden Ã§ok satÄ±ra yayÄ±ldÄ±ÄŸÄ± durumlarda yardÄ±mcÄ± olur. Bu, gerÃ§ek hayatta daha az yaygÄ±n gibi gÃ¶rÃ¼nÃ¼yor, ancak hÃ¼kÃ¼met verileriyle uÄŸraÅŸÄ±rken Ã§ok ortaya Ã§Ä±kÄ±yor gibi gÃ¶rÃ¼nÃ¼yor.</p>
<p>HastalarÄ±n deneyimleri hakkÄ±nda veri toplayan Medicare ve Medicaid Hizmetleri Merkezleriâ€™nden bir veri seti olan <code>cms_patient_experience</code>â€™a bakarak baÅŸlayacaÄŸÄ±z:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(cms_patient_experience)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 5
  org_pac_id org_nm                     measure_cd   measure_title      prf_rate
  &lt;chr&gt;      &lt;chr&gt;                      &lt;chr&gt;        &lt;chr&gt;                 &lt;dbl&gt;
1 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_1  CAHPS for MIPS SSâ€¦       63
2 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_2  CAHPS for MIPS SSâ€¦       87
3 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_3  CAHPS for MIPS SSâ€¦       86
4 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_5  CAHPS for MIPS SSâ€¦       57
5 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_8  CAHPS for MIPS SSâ€¦       85
6 0446157747 USC CARE MEDICAL GROUP INC CAHPS_GRP_12 CAHPS for MIPS SSâ€¦       24</code></pre>
</div>
</div>
<p>Ä°ncelenen temel birim bir kuruluÅŸtur, ancak her kuruluÅŸ, anketteki her Ã¶lÃ§Ã¼m iÃ§in bir satÄ±r olmak Ã¼zere altÄ± satÄ±ra yayÄ±lmÄ±ÅŸtÄ±r. <code>measure_cd</code> ve <code>measure_title</code> iÃ§in tÃ¼m deÄŸer kÃ¼mesini <code>distinct()</code> kullanarak gÃ¶rebiliriz:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>cms_patient_experience <span class="sc">|&gt;</span> </span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(measure_cd, measure_title)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 2
  measure_cd   measure_title                                                    
  &lt;chr&gt;        &lt;chr&gt;                                                            
1 CAHPS_GRP_1  CAHPS for MIPS SSM: Getting Timely Care, Appointments, and Inforâ€¦
2 CAHPS_GRP_2  CAHPS for MIPS SSM: How Well Providers Communicate               
3 CAHPS_GRP_3  CAHPS for MIPS SSM: Patient's Rating of Provider                 
4 CAHPS_GRP_5  CAHPS for MIPS SSM: Health Promotion and Education               
5 CAHPS_GRP_8  CAHPS for MIPS SSM: Courteous and Helpful Office Staff           
6 CAHPS_GRP_12 CAHPS for MIPS SSM: Stewardship of Patient Resources             </code></pre>
</div>
</div>
<p>Bu sÃ¼tunlarÄ±n hiÃ§biri Ã¶zellikle harika deÄŸiÅŸken adlarÄ± oluÅŸturmaz: <code>measure_cd</code> deÄŸiÅŸkenin anlamÄ±na dair bir ipucu vermez ve <code>measure_title</code> boÅŸluklar iÃ§eren uzun bir cÃ¼mledir. Åimdilik yeni sÃ¼tun adlarÄ±mÄ±zÄ±n kaynaÄŸÄ± olarak <code>measure_cd</code>â€™yi kullanacaÄŸÄ±z, ancak gerÃ§ek bir analizde hem kÄ±sa hem de anlamlÄ± olan kendi deÄŸiÅŸken adlarÄ±nÄ±zÄ± oluÅŸturmak isteyebilirsiniz.</p>
<p><code>pivot_wider()</code> fonksiyonu, <code>pivot_longer()</code>â€™a zÄ±t bir arayÃ¼ze sahiptir: yeni sÃ¼tun adlarÄ± seÃ§mek yerine, deÄŸerleri (<code>values_from</code>) ve sÃ¼tun adÄ±nÄ± (<code>names_from</code>) tanÄ±mlayan mevcut sÃ¼tunlarÄ± saÄŸlamamÄ±z gerekir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>cms_patient_experience <span class="sc">|&gt;</span> </span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">id_cols =</span> <span class="fu">starts_with</span>(<span class="st">"org"</span>),</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> measure_cd,</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> prf_rate</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 95 Ã— 8
   org_pac_id org_nm CAHPS_GRP_1 CAHPS_GRP_2 CAHPS_GRP_3 CAHPS_GRP_5 CAHPS_GRP_8
   &lt;chr&gt;      &lt;chr&gt;        &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
 1 0446157747 USC Câ€¦          63          87          86          57          85
 2 0446162697 ASSOCâ€¦          59          85          83          63          88
 3 0547164295 BEAVEâ€¦          49          NA          75          44          73
 4 0749333730 CAPE â€¦          67          84          85          65          82
 5 0840104360 ALLIAâ€¦          66          87          87          64          87
 6 0840109864 REX Hâ€¦          73          87          84          67          91
 7 0840513552 SCL Hâ€¦          58          83          76          58          78
 8 0941545784 GRITMâ€¦          46          86          81          54          NA
 9 1052612785 COMMUâ€¦          65          84          80          58          87
10 1254237779 OUR Lâ€¦          61          NA          NA          65          NA
# â„¹ 85 more rows
# â„¹ 1 more variable: CAHPS_GRP_12 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="iliÅŸkisel-veri-tablolarÄ±nÄ±-birleÅŸtirme" class="level1">
<h1>Ä°liÅŸkisel Veri TablolarÄ±nÄ± BirleÅŸtirme</h1>
<p>Bir veri analizinin yalnÄ±zca tek bir veri tablosu iÃ§ermesi nadirdir. Genellikle birÃ§ok veri tablonuz olur ve ilgilendiÄŸiniz sorularÄ± yanÄ±tlamak iÃ§in bunlarÄ± birleÅŸtirmeniz gerekir. Birden Ã§ok veri tablosu topluca iliÅŸkisel veri olarak adlandÄ±rÄ±lÄ±r, Ã§Ã¼nkÃ¼ Ã¶nemli olan yalnÄ±zca bireysel veri setleri deÄŸil, iliÅŸkilerdir.</p>
<p>Ä°liÅŸkisel verilerle Ã§alÄ±ÅŸmak iÃ§in tablo Ã§iftleriyle Ã§alÄ±ÅŸan fiillere ihtiyacÄ±nÄ±z vardÄ±r:</p>
<p><img src="images/joins.png" class="img-fluid"> <strong>Ã–rnekler</strong></p>
<p><code>dplyr</code>â€™daki iki tablolu fiilleri kullanarak <code>nycflights13</code>â€™ten iliÅŸkisel verileri inceleyeceÄŸiz.</p>
<p><img src="images/flights.png" class="img-fluid"></p>
<p><code>nycflights13</code> iÃ§in:</p>
<ul>
<li><p><code>flights</code>, <code>planes</code> tablosuna <code>tailnum</code> deÄŸiÅŸkeni aracÄ±lÄ±ÄŸÄ±yla baÄŸlanÄ±r.</p></li>
<li><p><code>flights</code>, <code>airlines</code> tablosuna <code>carrier</code> deÄŸiÅŸkeni aracÄ±lÄ±ÄŸÄ±yla baÄŸlanÄ±r.</p></li>
<li><p><code>flights</code>, <code>airports</code> tablosuna iki ÅŸekilde baÄŸlanÄ±r: <code>origin</code> ve <code>dest</code> deÄŸiÅŸkenleri aracÄ±lÄ±ÄŸÄ±yla.</p></li>
<li><p><code>flights</code>, <code>weather</code> tablosuna <code>origin</code> (konum) ve <code>year</code>, <code>month</code>, <code>day</code> ve <code>hour</code> (zaman) deÄŸiÅŸkenleri aracÄ±lÄ±ÄŸÄ±yla baÄŸlanÄ±r.</p></li>
</ul>
<section id="inner_join" class="level2">
<h2 class="anchored" data-anchor-id="inner_join"><strong><code>inner_join()</code></strong></h2>
<p><code>flights</code> tablosunun ilk birkaÃ§ satÄ±rÄ±nÄ± incelersek, <code>carrier</code> sÃ¼tununun havayoluna karÅŸÄ±lÄ±k gelen iki karakterlik bir dize iÃ§erdiÄŸini gÃ¶zlemleriz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(flights)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 336,776
Columns: 19
$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2â€¦
$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦
$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦
$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, â€¦
$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, â€¦
$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1â€¦
$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,â€¦
$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,â€¦
$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1â€¦
$ carrier        &lt;chr&gt; "UA", "UA", "AA", "B6", "DL", "UA", "B6", "EV", "B6", "â€¦
$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4â€¦
$ tailnum        &lt;chr&gt; "N14228", "N24211", "N619AA", "N804JB", "N668DN", "N394â€¦
$ origin         &lt;chr&gt; "EWR", "LGA", "JFK", "JFK", "LGA", "EWR", "EWR", "LGA",â€¦
$ dest           &lt;chr&gt; "IAH", "IAH", "MIA", "BQN", "ATL", "ORD", "FLL", "IAD",â€¦
$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1â€¦
$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, â€¦
$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6â€¦
$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0â€¦
$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0â€¦</code></pre>
</div>
</div>
<p><code>airlines</code> tablosunda, aynÄ± iki karakterlik dizelere sahibiz, ancak aynÄ± zamanda havayolunun tam adlarÄ±nÄ± da iÃ§eriyor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(airlines)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 Ã— 2
  carrier name                    
  &lt;chr&gt;   &lt;chr&gt;                   
1 9E      Endeavor Air Inc.       
2 AA      American Airlines Inc.  
3 AS      Alaska Airlines Inc.    
4 B6      JetBlue Airways         
5 DL      Delta Air Lines Inc.    
6 EV      ExpressJet Airlines Inc.</code></pre>
</div>
</div>
<p>Her uÃ§uÅŸun bir listesini ve her bir uÃ§uÅŸu yÃ¶neten havayollarÄ±nÄ±n tam adlarÄ±nÄ± almak iÃ§in, <code>flights</code> tablosundaki satÄ±rlarÄ±, her iki tabloda da <code>carrier</code> sÃ¼tunu iÃ§in karÅŸÄ±lÄ±k gelen deÄŸerlere sahip olan <code>airlines</code> tablosundaki satÄ±rlarla eÅŸleÅŸtirmemiz gerekir. Bu, <code>inner_join()</code> fonksiyonu ile gerÃ§ekleÅŸtirilir.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>flights_joined <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">inner_join</span>(airlines, <span class="at">by=</span> <span class="fu">c</span>(<span class="st">"carrier"</span><span class="ot">=</span><span class="st">"carrier"</span>))</span>
<span id="cb78-3"><a href="#cb78-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(flights_joined)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 336,776
Columns: 20
$ year           &lt;int&gt; 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2013, 2â€¦
$ month          &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦
$ day            &lt;int&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1â€¦
$ dep_time       &lt;int&gt; 517, 533, 542, 544, 554, 554, 555, 557, 557, 558, 558, â€¦
$ sched_dep_time &lt;int&gt; 515, 529, 540, 545, 600, 558, 600, 600, 600, 600, 600, â€¦
$ dep_delay      &lt;dbl&gt; 2, 4, 2, -1, -6, -4, -5, -3, -3, -2, -2, -2, -2, -2, -1â€¦
$ arr_time       &lt;int&gt; 830, 850, 923, 1004, 812, 740, 913, 709, 838, 753, 849,â€¦
$ sched_arr_time &lt;int&gt; 819, 830, 850, 1022, 837, 728, 854, 723, 846, 745, 851,â€¦
$ arr_delay      &lt;dbl&gt; 11, 20, 33, -18, -25, 12, 19, -14, -8, 8, -2, -3, 7, -1â€¦
$ carrier        &lt;chr&gt; "UA", "UA", "AA", "B6", "DL", "UA", "B6", "EV", "B6", "â€¦
$ flight         &lt;int&gt; 1545, 1714, 1141, 725, 461, 1696, 507, 5708, 79, 301, 4â€¦
$ tailnum        &lt;chr&gt; "N14228", "N24211", "N619AA", "N804JB", "N668DN", "N394â€¦
$ origin         &lt;chr&gt; "EWR", "LGA", "JFK", "JFK", "LGA", "EWR", "EWR", "LGA",â€¦
$ dest           &lt;chr&gt; "IAH", "IAH", "MIA", "BQN", "ATL", "ORD", "FLL", "IAD",â€¦
$ air_time       &lt;dbl&gt; 227, 227, 160, 183, 116, 150, 158, 53, 140, 138, 149, 1â€¦
$ distance       &lt;dbl&gt; 1400, 1416, 1089, 1576, 762, 719, 1065, 229, 944, 733, â€¦
$ hour           &lt;dbl&gt; 5, 5, 5, 5, 6, 5, 6, 6, 6, 6, 6, 6, 6, 6, 6, 5, 6, 6, 6â€¦
$ minute         &lt;dbl&gt; 15, 29, 40, 45, 0, 58, 0, 0, 0, 0, 0, 0, 0, 0, 0, 59, 0â€¦
$ time_hour      &lt;dttm&gt; 2013-01-01 05:00:00, 2013-01-01 05:00:00, 2013-01-01 0â€¦
$ name           &lt;chr&gt; "United Air Lines Inc.", "United Air Lines Inc.", "Amerâ€¦</code></pre>
</div>
</div>
<p><code>flights_joined</code> veri Ã§erÃ§evesinin artÄ±k <code>name</code> adlÄ± ek bir deÄŸiÅŸkene sahip olduÄŸuna dikkat edin. Bu, artÄ±k birleÅŸtirilmiÅŸ veri Ã§erÃ§evesine dahil edilen <code>airlines</code> tablosundan gelen sÃ¼tundur. Åifreli iki karakterlik kodlar yerine havayollarÄ±nÄ±n tam adlarÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyebiliriz.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>flights_joined <span class="sc">|&gt;</span> </span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(carrier, name, flight, origin, dest) <span class="sc">|&gt;</span> </span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 Ã— 5
  carrier name                   flight origin dest 
  &lt;chr&gt;   &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;
1 UA      United Air Lines Inc.    1545 EWR    IAH  
2 UA      United Air Lines Inc.    1714 LGA    IAH  
3 AA      American Airlines Inc.   1141 JFK    MIA  </code></pre>
</div>
</div>
</section>
<section id="dÄ±ÅŸ-birleÅŸtirmeler-outer-joins" class="level2">
<h2 class="anchored" data-anchor-id="dÄ±ÅŸ-birleÅŸtirmeler-outer-joins"><strong>DÄ±ÅŸ BirleÅŸtirmeler (Outer Joins)</strong></h2>
<p>Bir iÃ§ birleÅŸtirme (<code>inner join</code>), her iki tabloda da gÃ¶rÃ¼nen gÃ¶zlemleri tutar. Bir dÄ±ÅŸ birleÅŸtirme (<code>outer join</code>), tablolardan en az birinde gÃ¶rÃ¼nen gÃ¶zlemleri tutar. ÃœÃ§ tÃ¼r dÄ±ÅŸ birleÅŸtirme vardÄ±r:</p>
<ul>
<li><p>Bir sol birleÅŸtirme (<code>left join</code>), <code>x</code>â€™deki tÃ¼m gÃ¶zlemleri tutar.</p></li>
<li><p>Bir saÄŸ birleÅŸtirme (<code>right join</code>), <code>y</code>â€™deki tÃ¼m gÃ¶zlemleri tutar.</p></li>
<li><p>Tam bir birleÅŸtirme (<code>full join</code>), <code>x</code> ve <code>y</code>â€™deki tÃ¼m gÃ¶zlemleri tutar.</p></li>
</ul>
<section id="left_join" class="level3">
<h3 class="anchored" data-anchor-id="left_join"><strong><code>left_join()</code></strong></h3>
<p><code>flights</code> ve <code>weather</code> tablolarÄ± ortak deÄŸiÅŸkenlerinde eÅŸleÅŸir: <code>year</code>, <code>month</code>, <code>day</code>, <code>hour</code> ve <code>origin</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>flights_joined <span class="sc">|&gt;</span> </span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(weather)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(year, month, day, origin, hour, time_hour)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 Ã— 29
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      517            515         2      830            819
 2  2013     1     1      533            529         4      850            830
 3  2013     1     1      542            540         2      923            850
 4  2013     1     1      544            545        -1     1004           1022
 5  2013     1     1      554            600        -6      812            837
 6  2013     1     1      554            558        -4      740            728
 7  2013     1     1      555            600        -5      913            854
 8  2013     1     1      557            600        -3      709            723
 9  2013     1     1      557            600        -3      838            846
10  2013     1     1      558            600        -2      753            745
# â„¹ 336,766 more rows
# â„¹ 21 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, name &lt;chr&gt;, temp &lt;dbl&gt;,
#   dewp &lt;dbl&gt;, humid &lt;dbl&gt;, wind_dir &lt;dbl&gt;, wind_speed &lt;dbl&gt;, wind_gust &lt;dbl&gt;,
#   precip &lt;dbl&gt;, pressure &lt;dbl&gt;, visib &lt;dbl&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>flights_joined <span class="sc">|&gt;</span> </span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(planes, <span class="at">by=</span><span class="st">"tailnum"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 336,776 Ã— 28
   year.x month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
    &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1   2013     1     1      517            515         2      830            819
 2   2013     1     1      533            529         4      850            830
 3   2013     1     1      542            540         2      923            850
 4   2013     1     1      544            545        -1     1004           1022
 5   2013     1     1      554            600        -6      812            837
 6   2013     1     1      554            558        -4      740            728
 7   2013     1     1      555            600        -5      913            854
 8   2013     1     1      557            600        -3      709            723
 9   2013     1     1      557            600        -3      838            846
10   2013     1     1      558            600        -2      753            745
# â„¹ 336,766 more rows
# â„¹ 20 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, name &lt;chr&gt;, year.y &lt;int&gt;,
#   type &lt;chr&gt;, manufacturer &lt;chr&gt;, model &lt;chr&gt;, engines &lt;int&gt;, seats &lt;int&gt;,
#   speed &lt;int&gt;, engine &lt;chr&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="filtreleme-birleÅŸtirmeleri-filtering-joins" class="level2">
<h2 class="anchored" data-anchor-id="filtreleme-birleÅŸtirmeleri-filtering-joins"><strong>Filtreleme BirleÅŸtirmeleri (Filtering Joins)</strong></h2>
<p>Filtreleme birleÅŸtirmeleri, gÃ¶zlemleri deÄŸiÅŸtirme birleÅŸtirmeleriyle aynÄ± ÅŸekilde eÅŸleÅŸtirir, ancak deÄŸiÅŸkenleri deÄŸil, gÃ¶zlemleri etkiler. Ä°ki tÃ¼r vardÄ±r:</p>
<ul>
<li><p><code>semi_join(x, y)</code>, <code>y</code>â€™de eÅŸleÅŸmesi olan <code>x</code>â€™deki tÃ¼m gÃ¶zlemleri tutar.</p></li>
<li><p><code>anti_join(x, y)</code>, <code>y</code>â€™de eÅŸleÅŸmesi olan <code>x</code>â€™deki tÃ¼m gÃ¶zlemleri bÄ±rakÄ±r.</p></li>
</ul>
<p>YarÄ± birleÅŸtirmeler (<code>semi_join</code>), filtrelenmiÅŸ Ã¶zet tablolarÄ±nÄ± orijinal satÄ±rlarla eÅŸleÅŸtirmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, en popÃ¼ler on varÄ±ÅŸ noktasÄ±nÄ± bulduÄŸunuzu hayal edin:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>top_dest <span class="ot">&lt;-</span> flights <span class="sc">|&gt;</span> </span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(dest, <span class="at">sort=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>flights_joined <span class="sc">|&gt;</span> </span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">semi_join</span>(top_dest)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Joining with `by = join_by(dest)`</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 141,145 Ã— 20
    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
 1  2013     1     1      542            540         2      923            850
 2  2013     1     1      554            600        -6      812            837
 3  2013     1     1      554            558        -4      740            728
 4  2013     1     1      555            600        -5      913            854
 5  2013     1     1      557            600        -3      838            846
 6  2013     1     1      558            600        -2      753            745
 7  2013     1     1      558            600        -2      924            917
 8  2013     1     1      558            600        -2      923            937
 9  2013     1     1      559            559         0      702            706
10  2013     1     1      600            600         0      851            858
# â„¹ 141,135 more rows
# â„¹ 12 more variables: arr_delay &lt;dbl&gt;, carrier &lt;chr&gt;, flight &lt;int&gt;,
#   tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;, air_time &lt;dbl&gt;, distance &lt;dbl&gt;,
#   hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;, name &lt;chr&gt;</code></pre>
</div>
</div>
<p>Bir yarÄ± birleÅŸtirmenin tersi, bir karÅŸÄ± birleÅŸtirmedir (<code>anti_join</code>). Bir karÅŸÄ± birleÅŸtirme, eÅŸleÅŸmesi olmayan satÄ±rlarÄ± tutar. KarÅŸÄ± birleÅŸtirmeler, birleÅŸtirme uyuÅŸmazlÄ±klarÄ±nÄ± teÅŸhis etmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, <code>flights</code> ve <code>planes</code> tablolarÄ±nÄ± birleÅŸtirirken, <code>planes</code> tablosunda eÅŸleÅŸmesi olmayan birÃ§ok uÃ§uÅŸ olduÄŸunu bilmek ilginizi Ã§ekebilir:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">|&gt;</span> </span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(planes, <span class="at">by =</span> <span class="st">"tailnum"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(tailnum, <span class="at">sort =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 722 Ã— 2
   tailnum     n
   &lt;chr&gt;   &lt;int&gt;
 1 &lt;NA&gt;     2512
 2 N725MQ    575
 3 N722MQ    513
 4 N723MQ    507
 5 N713MQ    483
 6 N735MQ    396
 7 N0EGMQ    371
 8 N534MQ    364
 9 N542MQ    363
10 N531MQ    349
# â„¹ 712 more rows</code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>