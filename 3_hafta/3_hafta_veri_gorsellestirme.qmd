---
title: "3_hafta_gÃ¶rselleÅŸtirme"
author: "Hakan Mehmetcik"
date: "`r Sys.Date()`"
format: pdf
editor: visual
execute: 
  echo: true
  warning: true
  output: asis
df-print: kable
---

```{r setup, echo=FALSE, message=FALSE}

# loaded packages
library(here)
library(tidyverse)
library(ggplot2)
library(mdsr)
library(mosaicData)
library(fec16)

dpath <- "~/Desktop/IST2083/Data"
```

# 3. Hafta: Veri GÃ¶rselleÅŸtirme ve ggplot KullanÄ±mÄ±

Veri gÃ¶rselleÅŸtirme, istatiksel veri analizinin en Ã¶nemli yÃ¶nlerinden biridir.

-   Ä°yi bir gÃ¶rselleÅŸtirme, analizlerinizi daha temiz, anlaÅŸÄ±lÄ±r ve kavrayÄ±cÄ± hale getirir.

-   Ä°yi bir gÃ¶rselleÅŸtirme, veriyi kendinizin de anladÄ±ÄŸÄ±nÄ±za dair bir doÄŸrulama saÄŸlar!

Eski New York Times stajyeri ve FlowingData.com'un yaratÄ±cÄ±sÄ± Nathan Yau, veri grafiklerinin oluÅŸturulmasÄ±nÄ± yemek piÅŸirmeye benzetiyor: Herkes grafik komutlarÄ±nÄ± yazmayÄ± Ã¶ÄŸrenip bilgisayarda grafikler oluÅŸturabilir. Benzer ÅŸekilde, herkes bir mikrodalga fÄ±rÄ±nda yemek Ä±sÄ±tmayÄ± Ã¶ÄŸrenebilir. YÃ¼ksek kaliteli bir gÃ¶rselleÅŸtirme ile sÄ±radan bir gÃ¶rselleÅŸtirme arasÄ±ndaki fark, bÃ¼yÃ¼k ÅŸeflerle acemileri ayÄ±ran unsurlarÄ±n aynÄ±sÄ±dÄ±r: araÃ§larÄ±nÄ±n ustalÄ±ÄŸÄ±, malzemeleri hakkÄ±nda bilgisi, iÃ§gÃ¶rÃ¼ ve yaratÄ±cÄ±lÄ±k (Yau 2013).

Bu bÃ¶lÃ¼mde, veri grafiklerinin temelini anlamak iÃ§in bir Ã§erÃ§eve sunuyoruz. Bu amaÃ§la, Ã¶ncelikle, R ile veri gÃ¶rselleÅŸtirmeye dair temel kavramlarÄ± ele alacaÄŸÄ±z. ArdÄ±ndan, **ggplot2** paketini kullanarak daha geliÅŸmiÅŸ gÃ¶rselleÅŸtirme tekniklerine geÃ§eceÄŸiz.

## 1. R ile Temel Veri GÃ¶rselleÅŸtirme

R, verilerinizi gÃ¶rselleÅŸtirmenin birÃ§ok yolunu sunar. En temel gÃ¶rselleÅŸtirme yÃ¶ntemleri arasÄ±nda, `plot()` fonksiyonu ile grafik oluÅŸturma yer alÄ±r. AÅŸaÄŸÄ±da, `plot()` fonksiyonu ile bir scatter plot (daÄŸÄ±lÄ±m grafiÄŸi) oluÅŸturma Ã¶rneÄŸi verilmiÅŸtir:

```{r}
# Ã–rnek veri seti
x <- c(1, 2, 3, 4, 5)
y <- c(2, 3, 5, 4, 6)

# Scatter plot oluÅŸturma
plot(x, y)

```

Bu kod, `x` ve `y` vektÃ¶rlerini kullanarak bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturur. `plot()` fonksiyonu, R'nÄ±n varsayÄ±lan olarak saÄŸladÄ±ÄŸÄ± genel (temel) bir fonksiyondur; tÄ±pkÄ± `print()` ve `summary()` gibi. VarsayÄ±lan Ã§izim yÃ¶nteminin yardÄ±m belgelerine (yani `?plot` ya da `help("plot")` yazarak) baktÄ±ÄŸÄ±nÄ±zda, grafiÄŸinizi Ã¶zelleÅŸtirmek iÃ§in belirtebileceÄŸiniz Ã§ok uzun bir argÃ¼man listesi gÃ¶receksiniz.

### BaÅŸlÄ±k ve Eksenleri Ã–zelleÅŸtirme

Daha uygun eksen etiketleri belirtmek, bir baÅŸlÄ±k eklemek veya alt baÅŸlÄ±k eklemek doÄŸru bir baÅŸlangÄ±Ã§ olacaktÄ±r. Bunu saÄŸlamak iÃ§in belirtmeniz gereken argÃ¼manlar:

-   **main**: BaÅŸlÄ±ÄŸÄ± iÃ§eren bir karakter dizisi.

-   **sub**: Alt baÅŸlÄ±ÄŸÄ± iÃ§eren bir karakter dizisi.

-   **xlab**: X ekseni etiketini iÃ§eren bir karakter dizisi.

-   **ylab**: Y ekseni etiketini iÃ§eren bir karakter dizisi.

```{r}
plot(x,y, 
     main="DaÄŸÄ±lÄ±m GrafiÄŸi",
     sub = "Alt baÅŸlÄ±k buraya gelir!", 
     xlab="X DeÄŸeri", 
     ylab="Y DeÄŸeri")
```

### Grafik TÃ¼rÃ¼nÃ¼ DeÄŸiÅŸtirme

`type` argÃ¼manÄ±, grafiÄŸin gÃ¶rsel stilini belirtir. Bunun iÃ§in olasÄ± deÄŸerler:

-   `type = "p"`: Sadece noktalarÄ± Ã§izin.

-   `type = "l"`: Noktalar Ã¼zerinden bir Ã§izgi Ã§izin.

-   `type = "o"`: NoktalarÄ±n Ã¼stÃ¼ne Ã§izgi Ã§izin.

-   `type = "b"`: Hem noktalarÄ± hem de Ã§izgileri Ã§izin, ancak Ã¼st Ã¼ste gelmesin.

-   `type = "h"`: "Histogram benzeri" dikey Ã§ubuklar Ã§izin.

-   `type = "s"`: Yatay sonra dikey giden bir merdiven Ã§izin.

-   `type = "S"`: Dikey sonra yatay giden bir merdiven Ã§izin.

-   `type = "c"`: "b" versiyonundan yalnÄ±zca baÄŸlantÄ± Ã§izgilerini Ã§izin.

-   `type = "n"`: HiÃ§bir ÅŸey Ã§izmeyin. (Bunun bazÄ± durumlarda yararlÄ± olduÄŸu sÃ¶yleniyor.)

```{r}
plot(x,y, 
     main="DaÄŸÄ±lÄ±m GrafiÄŸi",
     sub = "Alt baÅŸlÄ±k buraya gelir!", 
     xlab="X DeÄŸeri", 
     ylab="Y DeÄŸeri", 
     type = "o")
```

### DiÄŸer DeÄŸerleri DeÄŸiÅŸtirme

-   Grafik karakterleri, `pch` ve `lty` deÄŸerleri ile deÄŸiÅŸtirilebilir.

-   GrafiÄŸin rengi `col` ile deÄŸiÅŸtirilebilir.

-   Grafik boyutu `cex` ile deÄŸiÅŸtirilebilir.

```{r}
  plot(x,y, 
     main="DaÄŸÄ±lÄ±m GrafiÄŸi",
     sub = "Alt baÅŸlÄ±k buraya gelir!", 
     xlab="X DeÄŸeri", 
     ylab="Y DeÄŸeri", 
     type = "o", 
     col="blue", 
     pch=19, 
     cex = 2,          
     lty = 2,         
     lwd = 2,
     las = 1)
```

## 2. ggplot2 ile GeliÅŸmiÅŸ Veri GÃ¶rselleÅŸtirme

**ggplot2** paketi, R ile veri gÃ¶rselleÅŸtirmenin en popÃ¼ler ve gÃ¼Ã§lÃ¼ yollarÄ±ndan biridir. ggplot2, â€œGrammar of Graphicsâ€ (Grafiklerin Grameri) ilkesine dayanmaktadÄ±r ve Ã§ok Ã§eÅŸitli grafik tÃ¼rlerini kolayca oluÅŸturmanÄ±za olanak tanÄ±r.

### ggplot2 Kurulumu

ggplot2 paketini kullanmaya baÅŸlamak iÃ§in Ã¶ncelikle paketi kurmalÄ±sÄ±nÄ±z. AÅŸaÄŸÄ±daki kod ile ggplot2â€™yi yÃ¼kleyebilirsiniz:

```{r}
# install.packages("ggplot2")
library(ggplot2)
```

### Basit bir ggplot KullanÄ±mÄ±

ggplot2 ile bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturmak iÃ§in aÅŸaÄŸÄ±daki gibi bir kod kullanabilirsiniz:

```{r}
# Ã–rnek veriler
x <- c(1, 2, 3, 4, 5)
y <- c(2, 3, 5, 4, 6)

# ggplot ile daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma
ggplot(data = data.frame(x, y), aes(x = x, y = y)) +
  geom_line(color = "blue", linetype = "dashed", size = 1) +  # Ã‡izgi
  geom_point(color = "blue", size = 5) +  # Noktalar
  labs(title = "DaÄŸÄ±lÄ±m GrafiÄŸi", 
       subtitle = "Alt baÅŸlÄ±k buraya gelir!", 
       x = "X DeÄŸeri", 
       y = "Y DeÄŸeri") 
```

Bu kod, `data` veri Ã§erÃ§evesindeki `x` ve `y` deÄŸerlerini kullanarak bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturur. `geom_point()` fonksiyonu, noktalarÄ± eklemek iÃ§in kullanÄ±lÄ±r.

## 3. Ggplot'un Temel UnsurlarÄ±

ggplot Ã§erÃ§evesinde, veri grafiklerini **beÅŸ temel unsur** aÃ§Ä±sÄ±ndan anlamak mÃ¼mkÃ¼ndÃ¼r: Estetikler, gÃ¶rsel ipuÃ§larÄ±, koordinat sistemleri, Ã¶lÃ§ek, ve baÄŸlam.

### 1. Estetikler (Aesthetics)

Estetikler, bir grafik Ã¼zerindeki nesnelerin gÃ¶rsel Ã¶zelliklerini tanÄ±mlayan parametrelerdir. Bu Ã¶zellikler, verilerin nasÄ±l temsil edileceÄŸini belirler ve verinin izleyiciye nasÄ±l iletileceÄŸini etkiler. Estetikler, bir deÄŸiÅŸkenin hangi gÃ¶rsel unsur ile temsil edileceÄŸini tanÄ±mlar ve bu sayede grafik Ã¼zerindeki unsurlarÄ±n farklÄ± Ã¶zellikler kazanmasÄ±nÄ± saÄŸlar.

**Tablo 1: Estetikler**

| Estetik | Veri TÃ¼rÃ¼ | AÃ§Ä±klama |
|------------------------|------------------------|------------------------|
| `x` | SayÄ±sal / Kategorik | X ekseninde gÃ¶sterilecek deÄŸiÅŸken. |
| `y` | SayÄ±sal | Y ekseninde gÃ¶sterilecek deÄŸiÅŸken. |
| `fill` | Kategorik / SayÄ±sal | Ã‡ubuk, alan veya noktalarÄ±n iÃ§ rengini belirler. |
| `color` | Kategorik / SayÄ±sal | NoktalarÄ±n veya Ã§izgilerin dÄ±ÅŸ rengini belirler. |
| `size` | SayÄ±sal | NoktalarÄ±n veya Ã§izgilerin boyutunu ayarlar. |
| `shape` | Kategorik | NoktalarÄ±n ÅŸeklini belirler (Ã¶rneÄŸin, daire, Ã¼Ã§gen). |
| `linetype` | Kategorik | Ã‡izgi tÃ¼rÃ¼nÃ¼ belirler (Ã¶rneÄŸin, kesik, dÃ¼z). |
| `alpha` | SayÄ±sal | NoktalarÄ±n veya alanlarÄ±n saydamlÄ±k dÃ¼zeyini ayarlar. |
| `label` | Kategorik | NoktalarÄ±n Ã¼zerine yazÄ±lacak metni belirler. |
| `stroke` | SayÄ±sal | Kenar kalÄ±nlÄ±ÄŸÄ±nÄ± ayarlar, genellikle `shape` ile birlikte kullanÄ±lÄ±r. |
| `order` | SayÄ±sal / Kategorik | Ã‡izim sÄ±rasÄ±nÄ± belirler, Ã¶zellikle yÄ±ÄŸÄ±lmÄ±ÅŸ grafikte kullanÄ±lÄ±r. |
| `xend` / `yend` | SayÄ±sal | Ã‡izgi veya ok uÃ§ noktalarÄ±nÄ± belirler. |

### 2. GÃ¶rsel Ä°puÃ§larÄ± (Visual Cues)

GÃ¶rsel ipuÃ§larÄ±, grafiklerde belirli bilgileri iletmek iÃ§in kullanÄ±lan grafiksel unsurlardÄ±r. Bu unsurlar, izleyicinin dikkatini Ã§ekmek ve verilerin anlamÄ±nÄ± kolaylaÅŸtÄ±rmak iÃ§in kullanÄ±lÄ±r. GÃ¶rsel ipuÃ§larÄ± ÅŸunlarÄ± iÃ§erir:

**Tablo 2: GÃ¶rsel ipuÃ§larÄ± ve anlamlarÄ±.**

| GÃ¶rsel Ä°pucu | DeÄŸiÅŸken TÃ¼rÃ¼ | Soru |
|------------------------|------------------------|------------------------|
| Konum | sayÄ±sal | DiÄŸer ÅŸeylerle iliÅŸkili olarak nerede? |
| Uzunluk | sayÄ±sal | Ne kadar bÃ¼yÃ¼k (bir boyutta)? |
| AÃ§Ä± | sayÄ±sal | Ne kadar geniÅŸ? Bir ÅŸeyle paralel mi? |
| YÃ¶n | sayÄ±sal | Hangi eÄŸimde? Zaman serisinde, yÃ¼kseliyor mu yoksa alÃ§alÄ±yormu? |
| Åekil | kategorik | Hangi gruba ait? |
| Alan | sayÄ±sal | Ne kadar bÃ¼yÃ¼k (iki boyutta)? |
| Hacim | sayÄ±sal | Ne kadar bÃ¼yÃ¼k (Ã¼Ã§ boyutta)? |
| GÃ¶lge | her ikisi | Ne Ã¶lÃ§Ã¼de? Ne kadar ÅŸiddetli? |
| Renk | her ikisi | Ne Ã¶lÃ§Ã¼de? Ne kadar ÅŸiddetli? |

::: callout-note
âœ‹ GÃ¶rsel ipuÃ§larÄ±, izleyicinin dikkatini Ã§ekmek istediÄŸiniz unsurlara odaklanmasÄ±nÄ± saÄŸlamak iÃ§in kullanÄ±lan grafiksel Ã¶ÄŸelerdir.

Grafiksel algÄ± Ã¼zerine yapÄ±lan araÅŸtÄ±rmalara gÃ¶re (1980'lerin ortalarÄ±na kadar uzanÄ±yor) insanlar konumdaki farklÄ±lÄ±klarÄ± (Ã¶rneÄŸin, bir Ã§ubuÄŸun diÄŸerinden ne kadar daha uzun olduÄŸunu) doÄŸru bir ÅŸekilde algÄ±lamakta oldukÃ§a iyidir; ancak aÃ§Ä±lardaki farklÄ±lÄ±klarÄ± algÄ±lamakta o kadar iyi deÄŸillerdir. Bu, birÃ§ok insanÄ±n pasta grafikleri yerine Ã§ubuk grafiklerini tercih etmesinin bir nedenidir. Renklerdeki farklÄ±lÄ±klarÄ± algÄ±lamadaki gÃ¶receli zayÄ±f yeteneÄŸimiz, birÃ§ok veri bilimcisinin Ä±sÄ± haritalarÄ±na karÅŸÄ± duyduÄŸu dÃ¼ÅŸÃ¼k ilginin baÅŸlÄ±ca faktÃ¶rÃ¼dÃ¼r.

Renk, en gÃ¶z alÄ±cÄ±, ancak en yanlÄ±ÅŸ algÄ±lanan ve kÃ¶tÃ¼ye kullanÄ±lan gÃ¶rsel ipuÃ§larÄ±ndan biridir. Renk seÃ§iminde, herhangi bir veri bilimcisinin anlamasÄ± gereken birkaÃ§ temel fikir vardÄ±r. Ã–ncelikle, renk insanlara gÃ¶rsel olarak Ã§ekici gelse de, genellikle umduÄŸumuz kadar bilgilendirici deÄŸildir. Ä°kinci olarak, nÃ¼fusun yaklaÅŸÄ±k %8â€™i---Ã§oÄŸu erkek---bir tÃ¼r renk kÃ¶rlÃ¼ÄŸÃ¼ne sahiptir. Renk kÃ¶rlÃ¼ÄŸÃ¼ sorunlarÄ±nÄ± Ã¶nlemek iÃ§in, veri grafiklerinde kÄ±rmÄ±zÄ± ile yeÅŸili karÅŸÄ±laÅŸtÄ±rmaktan kaÃ§Ä±nÄ±n. Ek olarak, grafikleri Noel temalÄ± gibi gÃ¶rÃ¼nmekten kurtarabilirsiniz!

ğŸ’¡ Not: RColorBrewer paketi, bu paletleri doÄŸrudan R'de kullanma iÅŸlevselliÄŸi saÄŸlar.
:::

### 3. Koordinat Sistemleri (Coordinate Systems)

Koordinat sistemleri, verilerin grafik Ã¼zerinde nasÄ±l dÃ¼zenleneceÄŸini belirler. ggplot2, verilerinizi gÃ¶rselleÅŸtirmek iÃ§in farklÄ± koordinat sistemleri kullanmanÄ±za olanak tanÄ±r. En yaygÄ±n koordinat sistemleri ÅŸunlardÄ±r:

-   **Kartezyen Koordinat Sistemi**: X ve Y eksenlerine dayanan en yaygÄ±n sistemdir. SayÄ±sal verilerin karÅŸÄ±laÅŸtÄ±rÄ±lmasÄ± iÃ§in kullanÄ±lÄ±r.

-   **Kutuplar**: NoktalarÄ±n, aÃ§Ä±lar ve uzaklÄ±klar kullanÄ±larak tanÄ±mlandÄ±ÄŸÄ± bir sistemdir. Ã–zellikle dairesel verilere yÃ¶nelik grafikleri oluÅŸturmak iÃ§in kullanÄ±lÄ±r.

-   **Geografik Koordinatlar**: CoÄŸrafi verilerin (Ã¶rneÄŸin, harita Ã¼zerindeki noktalar) temsil edildiÄŸi bir sistemdir. Bu sistemde, noktalar dÃ¼nya Ã¼zerindeki belirli konumlarÄ± ifade eder. Ã–zellikle haritalar Ã¼zerinde veri gÃ¶rselleÅŸtirme amacÄ± ile kullanÄ±lÄ±r.

### 4. Ã–lÃ§ek (Scale)

Ã–lÃ§ek, verilerin gÃ¶rsel ipuÃ§larÄ±na nasÄ±l dÃ¶nÃ¼ÅŸtÃ¼rÃ¼leceÄŸini tanÄ±mlar. ggplot2â€™de, her deÄŸiÅŸken iÃ§in bir Ã¶lÃ§ek belirlemek mÃ¼mkÃ¼ndÃ¼r. Ã–lÃ§ekler, aÅŸaÄŸÄ±dakileri iÃ§erir:

-   **SayÄ±sal Ã–lÃ§ekler**: SayÄ±sal deÄŸerlerin nasÄ±l gÃ¶sterileceÄŸini belirler (Ã¶rneÄŸin, lineer veya logaritmik Ã¶lÃ§ek).

-   **Kategorik Ã–lÃ§ekler**: Kategorik verilerin sÄ±ralamasÄ±nÄ± ve gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ belirler.

-   **Zaman Ã–lÃ§ekleri**: Zaman serisi verilerinin nasÄ±l gÃ¶sterileceÄŸini belirler. Zaman Ã¶lÃ§ekleri genellikle tarih ve saat biÃ§iminde dÃ¼zenlenir.

Ã–lÃ§ekler, izleyicilere verilerin anlamÄ±nÄ± iletmek iÃ§in kritik Ã¶neme sahiptir.

### 5. BaÄŸlam (Context)

BaÄŸlam, bir grafikte gÃ¶rÃ¼len bilgilerin ne anlama geldiÄŸini aÃ§Ä±klamak iÃ§in saÄŸlanan ek bilgilerdir. BaÄŸlam unsurlarÄ± ÅŸunlarÄ± iÃ§erir:

-   **BaÅŸlÄ±klar**: GrafiÄŸin genel amacÄ±nÄ± ve iÃ§eriÄŸini Ã¶zetleyen metinler.

-   **Eksen Etiketleri**: X ve Y eksenlerinin neyi temsil ettiÄŸini aÃ§Ä±klayan etiketler.

-   **AÃ§Ä±klamalar**: Grafikteki belirli noktalar veya bÃ¶lgeler hakkÄ±nda ek bilgiler saÄŸlayan notlar.

-   **Referans NoktalarÄ±**: Ek baÄŸlam saÄŸlayan diÄŸer grafik veya veri unsurlarÄ±.

BaÄŸlam, izleyicilerin veriyi daha iyi anlamalarÄ±na yardÄ±mcÄ± olur ve grafiklerin yorumlanmasÄ±nÄ± kolaylaÅŸtÄ±rÄ±r.

### Estetiklerin DiÄŸer Unsurlardan FarklÄ±lÄ±klarÄ±

-   **GÃ¶rsel Ä°puÃ§larÄ±**: Estetikler, gÃ¶rsel ipuÃ§larÄ±nÄ±n temellerini oluÅŸturur. GÃ¶rsel ipuÃ§larÄ±, izleyicinin dikkatini Ã§ekmek iÃ§in grafiksel unsurlarÄ±n konumunu, boyutunu, ÅŸeklini, rengini ve diÄŸer gÃ¶rsel Ã¶zelliklerini kullanÄ±r. Estetikler, bu unsurlarÄ±n neye gÃ¶re belirleneceÄŸini tanÄ±mlar.

-   **Koordinat Sistemleri**: Koordinat sistemleri, verilerin grafik Ã¼zerinde nasÄ±l dÃ¼zenleneceÄŸini belirler. Estetikler ise, bu dÃ¼zenleme iÃ§inde hangi verilerin hangi gÃ¶rsel Ã¶ÄŸelerle temsil edileceÄŸini belirler.

-   **Ã–lÃ§ek**: Ã–lÃ§ekler, verilerin gÃ¶rsel ipuÃ§larÄ±na dÃ¶nÃ¼ÅŸÃ¼mÃ¼nÃ¼ tanÄ±mlar. Estetikler, bu dÃ¶nÃ¼ÅŸÃ¼m iÃ§in hangi Ã¶zelliklerin kullanÄ±lacaÄŸÄ±nÄ± belirler.

-   **BaÄŸlam**: BaÄŸlam, grafik iÃ§indeki bilgilerin anlamÄ±nÄ± saÄŸlamak iÃ§in ek bilgiler sunar. Estetikler ise, baÄŸlamdan baÄŸÄ±msÄ±z olarak, verilerin nasÄ±l temsil edileceÄŸini tanÄ±mlar.

### ggplot GrafiÄŸinde Estetiklerin Lokasyonu

**Estetiklerin lokasyonu** (aesthetics location) terimi, ggplot2'de estetiklerin (gÃ¶rsel Ã¶zelliklerin) nasÄ±l tanÄ±mlandÄ±ÄŸÄ±nÄ± ve hangi dÃ¼zeyde kullanÄ±ldÄ±ÄŸÄ±nÄ± ifade eder. Estetikler, belirli bir grafik Ã¶ÄŸesinin gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼ etkileyen Ã¶zelliklerdir ve bu Ã¶zelliklerin grafik Ã¼zerinde hangi nesnelerle iliÅŸkilendirileceÄŸi Ã¶nemli bir konudur. ggplot2, estetikleri iki ana dÃ¼zeyde tanÄ±mlamanÄ±za olanak tanÄ±r:

1.  **Grafik DÃ¼zeyinde (Global Aesthetics)**:

    -   Global estetikler, `ggplot()` fonksiyonu iÃ§inde tanÄ±mlanÄ±r ve tÃ¼m grafik boyunca geÃ§erli olur.

    -   Bu, grafik genelinde belirli bir estetiÄŸi ayarlamak istediÄŸinizde kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, tÃ¼m noktalarÄ±n belirli bir renkte veya boyutta gÃ¶rÃ¼nmesini istiyorsanÄ±z, bunu grafik dÃ¼zeyinde tanÄ±mlayabilirsiniz.

```{r}
# Gerekli kÃ¼tÃ¼phaneleri yÃ¼kleyin
library(dplyr)

# Ã–rnek veri setini oluÅŸturun
set.seed(42)  # SonuÃ§larÄ±n tekrarlanabilir olmasÄ± iÃ§in
students <- data.frame(
  Name = paste("Ã–ÄŸrenci", 1:30),
  Math = sample(60:100, 30, replace = TRUE),  # Rastgele matematik notlarÄ±
  Science = sample(60:100, 30, replace = TRUE),  # Rastgele fen notlarÄ±
  Gender = sample(c("KÄ±z", "Erkek"), 30, replace = TRUE)  # Rastgele cinsiyetler
)

# Global estetik ile grafik oluÅŸturma
ggplot(data = students, aes(x = Math, y = Science, color = Gender)) +
  geom_point(size = 3) +  # TÃ¼m noktalarÄ±n boyutu
  labs(title = "Matematik ve Fen NotlarÄ±", x = "Matematik Notu", y = "Fen Notu") +
  theme_minimal()


```

**Global Estetik KullanÄ±mÄ±**: Ä°lk grafik, tÃ¼m Ã¶ÄŸrencilerin matematik ve fen notlarÄ±nÄ± gÃ¶sterirken, noktalarÄ±n rengi cinsiyete gÃ¶re belirlenmiÅŸtir. Bu, her bir cinsiyet iÃ§in farklÄ± bir renk atayarak izleyicinin veri gruplarÄ±nÄ± kolayca ayÄ±rt etmesini saÄŸlar.

2.  **Ã–ÄŸe DÃ¼zeyinde (Local Aesthetics)**:

-   Yerel estetikler, belirli bir geometrik Ã¶ÄŸe (Ã¶rneÄŸin, Ã§ubuklar, noktalar, Ã§izgiler) iÃ§in ayrÄ± olarak tanÄ±mlanabilir.

-   Bu, belirli bir grafik Ã¶ÄŸesine Ã¶zgÃ¼ estetik deÄŸiÅŸiklikler yapmak istediÄŸinizde kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, sadece bir Ã§ubuk grafiÄŸindeki Ã§ubuklarÄ±n rengini deÄŸiÅŸtirmek istiyorsanÄ±z, bunu yerel estetiklerle ayarlayabilirsiniz.

```{r}
# Yerel estetik ile Ã§ubuk grafiÄŸi oluÅŸturma
ggplot(data = students, aes(x = Name, y = Science, fill = Gender)) +
  geom_bar(stat = "identity") +  # Her Ã¶ÄŸrencinin fen notunu Ã§ubuk olarak gÃ¶ster
  labs(title = "Fen NotlarÄ± DaÄŸÄ±lÄ±mÄ±", x = "Ã–ÄŸrenciler", y = "Fen Notu") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +  # Eksen etiketlerini dÃ¶ndÃ¼r
  scale_fill_manual(values = c("KÄ±z" = "pink", "Erkek" = "lightblue"))  # Cinsiyete gÃ¶re Ã¶zel renkler

```

**Yerel Estetik KullanÄ±mÄ±**: Ä°kinci grafik ise her Ã¶ÄŸrencinin fen notlarÄ±nÄ± gÃ¶steren bir Ã§ubuk grafiÄŸidir. Bu grafikte, cinsiyete gÃ¶re Ã§ubuklarÄ±n dolgu rengi ayarlanmÄ±ÅŸtÄ±r. BÃ¶ylece, her Ã¶ÄŸrencinin cinsiyeti gÃ¶rsel olarak temsil edilirken, Ã§ubuklarÄ±n boyutlarÄ± da fen notlarÄ±nÄ± temsil eder.

### KÃ¼Ã§Ã¼k Ã‡oklu Grafikleri ve Katmanlar

Veri grafiklerini oluÅŸturmanÄ±n temel zorluklarÄ±ndan biri, Ã§ok deÄŸiÅŸkenli bilgileri iki boyutlu bir gÃ¶rÃ¼ntÃ¼ye sÄ±kÄ±ÅŸtÄ±rmaktÄ±r. ÃœÃ§ boyutlu gÃ¶rÃ¼ntÃ¼ler bazen yararlÄ± olsa da, genellikle daha fazla kafa karÄ±ÅŸtÄ±rÄ±cÄ±dÄ±r. Bunun yerine, iki boyutlu bir veri grafiÄŸine daha fazla deÄŸiÅŸken eklemenin Ã¼Ã§ yaygÄ±n yolu ÅŸunlardÄ±r:

-   **KÃ¼Ã§Ã¼k Ã‡oklu Grafikler**: AyrÄ±ca fasetler olarak da bilinir, tek bir veri grafiÄŸi, aynÄ± temel grafiÄŸin birkaÃ§ kÃ¼Ã§Ã¼k Ã§oklu grafiÄŸinden oluÅŸabilir; her bir kÃ¼Ã§Ã¼k alt gÃ¶rÃ¼ntÃ¼de bir (ayrÄ±k) deÄŸiÅŸken deÄŸiÅŸmektedir.

-   **Katmanlar**: Mevcut bir veri grafiÄŸinin Ã¼zerine yeni bir katman Ã§izmek bazen uygundur. Bu yeni katman baÄŸlam veya karÅŸÄ±laÅŸtÄ±rma saÄŸlayabilir, ancak insanlarÄ±n gÃ¼venilir bir ÅŸekilde ayrÄ±ÅŸtÄ±rabileceÄŸi katman sayÄ±sÄ±nda bir sÄ±nÄ±rlama vardÄ±r.

-   **Animasyon**: Zaman ek deÄŸiÅŸken ise, o zaman bir animasyon bazen o deÄŸiÅŸkenin deÄŸiÅŸimlerini etkili bir ÅŸekilde iletebilir. Elbette, bu basÄ±lÄ± sayfada iÅŸe yaramaz ve kullanÄ±cÄ±nÄ±n tÃ¼m verileri aynÄ± anda gÃ¶rmesini imkansÄ±z kÄ±lar.

Biraz pratik yaparak, yukarÄ±da ana hatlarÄ±yla belirtilen sÄ±nÄ±flandÄ±rmaya gÃ¶re veri grafiklerini incelemeyi Ã¶ÄŸrenebilirsiniz. Ã–rneÄŸin, temel bir daÄŸÄ±lÄ±m grafiÄŸiniz, iki deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶stermek iÃ§in kartezyen dÃ¼zlemde konum kullanÄ±r ve lineer Ã¶lÃ§eklere sahiptir.

## 4. ggplot2 ile Basit Bir DaÄŸÄ±lÄ±m GrafiÄŸi OluÅŸturma

Bu bÃ¶lÃ¼mde, basit bir veri seti oluÅŸturarak ggplot2 ile nasÄ±l daha karmaÅŸÄ±k grafikler oluÅŸturabileceÄŸinizi gÃ¶stereceÄŸiz.

### Ã–rnek 1

Bu Ã¶rnek iÃ§in basit bir veri seti oluÅŸturalÄ±m. Bu veri seti, beÅŸ Ã¶ÄŸrencinin matematik ve fen derslerindeki notlarÄ±nÄ± iÃ§erecek:

```{r}
# Ã–rnek veri setini oluÅŸturun
set.seed(42)  # SonuÃ§larÄ±n tekrarlanabilir olmasÄ± iÃ§in
students <- data.frame(
  Name = paste("Ã–ÄŸrenci", 1:50),
  Math = sample(60:100, 50, replace = TRUE),  # Rastgele matematik notlarÄ±
  Science = sample(60:100, 50, replace = TRUE),  # Rastgele fen notlarÄ±
  Gender = sample(c("KÄ±z", "Erkek"), 50, replace = TRUE),  # Rastgele cinsiyetler
  Age = sample(15:20, 50, replace = TRUE),  # Rastgele yaÅŸlar
  Course = sample(c("Matematik", "Fen", "Kimya"), 50, replace = TRUE)  # Rastgele kurslar
)

# Veri setini gÃ¶rÃ¼ntÃ¼leyin
print(students)

```

Åimdi, bu veri setini kullanarak basit bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturalÄ±m. Ä°lk olarak, sadece pozisyon estetiÄŸini kullanacaÄŸÄ±z:

```{r}
# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma
ggplot(data = students, aes(x = Math, y = Science)) +
  geom_point()
  labs(title = "Ã–ÄŸrencilerin Matematik ve Fen NotlarÄ±",
       x = "Matematik Notu",
       y = "Fen Notu") +
  theme_minimal()
```

-   **`ggplot(data = students, aes(x = Math, y = Science))`**: Burada `students` veri setini kullanÄ±yoruz ve `Math` deÄŸiÅŸkenini x eksenine, `Science` deÄŸiÅŸkenini y eksenine atÄ±yoruz.

-   **`geom_point()`**: NoktalarÄ± grafiÄŸe eklemek iÃ§in kullanÄ±lÄ±r.

-   **`labs()`**: BaÅŸlÄ±k ve eksen etiketlerini ayarlamak iÃ§in kullanÄ±lÄ±r.

### GrafiÄŸe ek Estetik (asthetics) ekleme

**Ek estetik (aesthetics)** eklemek, ggplot2â€™de bir grafik oluÅŸtururken gÃ¶rsel unsurlarÄ± zenginleÅŸtirmek ve verilerinizi daha etkili bir ÅŸekilde sunmak iÃ§in kullanÄ±lÄ±r. Ek estetikler, grafiklerde daha fazla bilgi vermek ve verilerin daha iyi anlaÅŸÄ±lmasÄ±nÄ± saÄŸlamak iÃ§in grafik Ã¶ÄŸelerine uygulanabilir. Burada, her Ã¶ÄŸrencinin ismini noktalara ekleyeceÄŸiz:

```{r}
# Ek estetikler ile DaÄŸÄ±lÄ±m grafiÄŸini zenginleÅŸtirme
ggplot(data = students, aes(x = Math, y = Science)) +
  geom_point(aes(color = Gender, size = Science, shape = Course, alpha = 0.7)) +  # Ek estetikler
  labs(title = "Ã–ÄŸrencilerin Matematik ve Fen NotlarÄ±",
       x = "Matematik Notu",
       y = "Fen Notu") +
  theme_minimal()

```

-   **`color = Gender`**: NoktalarÄ±n rengini cinsiyete gÃ¶re ayarlÄ±yoruz.
-   **`size = Science`**: NoktalarÄ±n boyutunu fen notuna gÃ¶re ayarlÄ±yoruz. Daha yÃ¼ksek fen notlarÄ±, daha bÃ¼yÃ¼k noktalar anlamÄ±na gelir.
-   **`shape = Course`**: AlÄ±nan kursa gÃ¶re noktalarÄ±n ÅŸeklini ayarlÄ±yoruz. Ã–rneÄŸin, Matematik, Fen ve Kimya kurslarÄ± farklÄ± ÅŸekillerde gÃ¶sterilecektir.
-   **`alpha = 0.7`**: NoktalarÄ±n saydamlÄ±k dÃ¼zeyini ayarlÄ±yoruz. Bu, yoÄŸunluk yÃ¼ksek olan bÃ¶lgelerdeki noktalarÄ±n daha gÃ¶rÃ¼nÃ¼r olmasÄ±nÄ± saÄŸlar.

#### Ek Estetiklerin KullanÄ±m MantÄ±ÄŸÄ±:

-   **Veri GÃ¶rselleÅŸtirmeyi ZenginleÅŸtirme**: Ek estetikler, grafiklerinizi zenginleÅŸtirir ve izleyicilere daha fazla bilgi sunar. Ã–rneÄŸin, bir scatter plot'ta noktalarÄ±n bÃ¼yÃ¼klÃ¼ÄŸÃ¼nÃ¼ veya rengini deÄŸiÅŸtirerek verinin belirli yÃ¶nlerini vurgulayabilirsiniz.

-   **Veri GruplarÄ±nÄ± BelirginleÅŸtirme**: Kategorik deÄŸiÅŸkenleri kullanarak, verileri gruplara ayÄ±rabilir ve bu gruplar arasÄ±ndaki farklarÄ± net bir ÅŸekilde gÃ¶stererek anlamayÄ± kolaylaÅŸtÄ±rabilirsiniz. Ã–rneÄŸin, farklÄ± renkler kullanarak bir cinsiyet grubunu veya bir yaÅŸ grubunu belirginleÅŸtirebilirsiniz.

-   **KarmaÅŸÄ±k Ä°liÅŸkileri GÃ¶sterme**: Ek estetikler, karmaÅŸÄ±k iliÅŸkilerin daha iyi anlaÅŸÄ±lmasÄ±na yardÄ±mcÄ± olur. Ã–rneÄŸin, hem renk hem de boyut estetiÄŸini kullanarak bir deÄŸiÅŸkenin diÄŸerine olan etkisini daha net bir ÅŸekilde gÃ¶sterebilirsiniz.

### Limitler ve Dikkat Edilmesi Gerekenler

1.  **AÅŸÄ±rÄ± KarmaÅŸÄ±klaÅŸma**: Grafiklerde Ã§ok fazla estetik eklemek, grafiÄŸi karmaÅŸÄ±k hale getirebilir ve izleyicinin veri ile ilgili ana mesajÄ± anlamasÄ±nÄ± zorlaÅŸtÄ±rabilir. Basit ve net grafikler genellikle daha etkilidir.

2.  **GÃ¶rsellik ve Anlam KaybÄ±**: FarklÄ± estetiklerin bir arada kullanÄ±lmasÄ±, gÃ¶rselliÄŸi artÄ±rÄ±rken, aynÄ± zamanda verinin anlamÄ±nÄ± da kaybettirebilir. Estetiklerin doÄŸru bir ÅŸekilde ayarlanmasÄ±, grafiklerin net ve anlaÅŸÄ±lÄ±r olmasÄ±nÄ± saÄŸlamalÄ±dÄ±r.

3.  **Veri Tipine Uygunluk**: Her estetik, belirli bir veri tÃ¼rÃ¼ ile uyumludur. SayÄ±sal veriler iÃ§in uygun estetikler kullanÄ±lmalÄ±dÄ±r (Ã¶rneÄŸin, `size`, `alpha` gibi). Kategorik veriler iÃ§inse `fill`, `color`, `shape` gibi estetikler kullanÄ±lmalÄ±dÄ±r. Uygun estetiklerin seÃ§ilmesi, verilerin doÄŸru bir ÅŸekilde gÃ¶rselleÅŸtirilmesini saÄŸlar.

4.  **Okunabilirlik**: Ek estetikler, grafiklerin okunabilirliÄŸini etkileyebilir. Ã–zellikle renk ve boyut gibi Ã¶zelliklerin aÅŸÄ±rÄ± kullanÄ±mÄ±, izleyicinin grafikteki detaylarÄ± algÄ±lamasÄ±nÄ± zorlaÅŸtÄ±rabilir. Renk paletleri ve yazÄ± tipleri gibi unsurlarÄ±n dikkatli bir ÅŸekilde seÃ§ilmesi gereklidir.

### GrafiÄŸe Faset (Facet) ekleme

**Fasetler (facets)**, bir grafikte farklÄ± kategorilere gÃ¶re alt grafikler oluÅŸturmanÄ±za olanak tanÄ±r. Bu, belirli bir deÄŸiÅŸkenin etkisini ve kategoriler arasÄ±ndaki farklÄ±lÄ±klarÄ± daha iyi gÃ¶rselleÅŸtirmek iÃ§in oldukÃ§a kullanÄ±ÅŸlÄ±dÄ±r. ggplot2'de `facet_wrap()` ve `facet_grid()` fonksiyonlarÄ± kullanÄ±larak fasetler eklenebilir.

### Kategorik DeÄŸiÅŸkenle Faset Ekleme

AÅŸaÄŸÄ±da, grafiklerimize faset ekleyerek Ã¶ÄŸrencilerin notlarÄ±nÄ± cinsiyete gÃ¶re ayÄ±racaÄŸÄ±z. Bu, aynÄ± grafikte kÄ±z ve erkek Ã¶ÄŸrencilerin notlarÄ±nÄ± ayrÄ± ayrÄ± gÃ¶rselleÅŸtirmemizi saÄŸlar.

```{r}
# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma ve faset ekleme
ggplot(data = students, aes(x = Math, y = Science)) +
  geom_point(aes(color = Gender, size = Science, shape = Course, alpha = 0.7)) +  # Ek estetikler
  labs(title = "Ã–ÄŸrencilerin Matematik ve Fen NotlarÄ±",
       x = "Matematik Notu",
       y = "Fen Notu") +
  theme_minimal() +
  facet_wrap(~ Gender)  # Cinsiyete gÃ¶re fasetleme

```

-   **`facet_wrap(~ Gender)`**: Bu komut, grafikte cinsiyet deÄŸiÅŸkenine gÃ¶re ayrÄ± alt grafikler oluÅŸturur. Her cinsiyet iÃ§in ayrÄ± bir daÄŸÄ±lÄ±m grafiÄŸi Ã§izilir.

EÄŸer daha karmaÅŸÄ±k bir yapÄ± isterseniz, aynÄ± anda birden fazla deÄŸiÅŸkene gÃ¶re fasetleme yapabilirsiniz. Ã–rneÄŸin, hem cinsiyete hem de kursa gÃ¶re fasetlemek:

```{r}
# Cinsiyete ve kursa gÃ¶re fasetleme
ggplot(data = students, aes(x = Math, y = Science)) +
  geom_point(aes(color = Gender, size = Science, shape = Course, alpha = 0.7)) +  # Ek estetikler
  labs(title = "Ã–ÄŸrencilerin Matematik ve Fen NotlarÄ±",
       x = "Matematik Notu",
       y = "Fen Notu") +
  theme_minimal() +
  facet_grid(Gender ~ Course)  # Cinsiyet ve kursa gÃ¶re 2 boyutlu fasetleme

```

### SayÄ±sal DeÄŸiÅŸkene GÃ¶re Fasetleme

ggplot2'de bir sayÄ±sal deÄŸiÅŸkene gÃ¶re fasetleme yapmak, veri gÃ¶rselleÅŸtirme sÄ±rasÄ±nda belirli bir aralÄ±kta bulunan verileri alt grafikler halinde dÃ¼zenlemek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, Ã¶ÄŸrencilerin yaÅŸlarÄ±na gÃ¶re daÄŸÄ±lÄ±m grafikleri oluÅŸturabiliriz. AÅŸaÄŸÄ±da, sayÄ±sal deÄŸiÅŸkene gÃ¶re nasÄ±l fasetleme yapÄ±lacaÄŸÄ±nÄ± gÃ¶steren bir Ã¶rnek bulunmaktadÄ±r.

### Ã–rnek Veri Seti

Daha Ã¶nce oluÅŸturduÄŸumuz `students` veri setini kullanacaÄŸÄ±z. Bu veri seti, Ã¶ÄŸrencilerin matematik ve fen notlarÄ±nÄ±, cinsiyetlerini, yaÅŸlarÄ±nÄ± ve katÄ±ldÄ±klarÄ± kurslarÄ± iÃ§ermektedir.

### YaÅŸ AralÄ±klarÄ±na GÃ¶re Fasetleme

Ã–ncelikle, yaÅŸlarÄ± belirli gruplara ayÄ±ralÄ±m. Daha sonra, her yaÅŸ grubuna gÃ¶re daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturacaÄŸÄ±z.

```{r}
# Gerekli kÃ¼tÃ¼phaneleri yÃ¼kleyin
library(ggplot2)
library(dplyr)

# YaÅŸ gruplarÄ±nÄ± oluÅŸturma
students <- students %>%
  mutate(AgeGroup = case_when(
    Age < 17 ~ "15-16",
    Age < 18 ~ "17",
    Age < 19 ~ "18",
    TRUE ~ "19-20"
  ))

# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma ve yaÅŸ gruplarÄ±na gÃ¶re fasetleme
ggplot(data = students, aes(x = Math, y = Science)) +
  geom_point(aes(color = Gender, size = Science, shape = Course, alpha = 0.7)) +  # Ek estetikler
  labs(title = "Ã–ÄŸrencilerin Matematik ve Fen NotlarÄ±",
       x = "Matematik Notu",
       y = "Fen Notu") +
  theme_minimal() +
  facet_wrap(~ AgeGroup)  # YaÅŸ grubuna gÃ¶re fasetleme

```

-   **YaÅŸ GruplarÄ±**: `mutate()` fonksiyonu ile her Ã¶ÄŸrencinin yaÅŸÄ±, belirli gruplara ayrÄ±lmÄ±ÅŸtÄ±r. `case_when()` kullanÄ±larak yaÅŸ aralÄ±klarÄ± oluÅŸturulmuÅŸtur.

-   **`facet_wrap(~ AgeGroup)`**: Bu komut, grafiklerin yaÅŸ gruplarÄ±na gÃ¶re ayrÄ± alt grafikler oluÅŸturmasÄ±nÄ± saÄŸlar. Her yaÅŸ grubu iÃ§in bir daÄŸÄ±lÄ±m grafiÄŸi Ã§izilir.

### Ã–rnek 2

Bu Ã¶rnekte, ekonomik verimlilikle ilgili sorularÄ± yanÄ±tlamak iÃ§in ilgili Ã¶lÃ§Ã¼mleri iÃ§eren bir veri seti olan CIACountries veri setini kullanacaÄŸÄ±z. AÅŸaÄŸÄ±da, CIACountries veri setini kullanarak ggplot2 ile grafikler oluÅŸturacaÄŸÄ±z. Her bir grafik Ã¶rneÄŸinde, estetikler, gÃ¶rsel ipuÃ§larÄ±, koordinat sistemleri, Ã¶lÃ§ek ve baÄŸlam kullanÄ±mÄ± ile ilgili aÃ§Ä±klamalara yer vereceÄŸiz.

### Ã–rnek Veri Seti

Ã–ncelikle CIACountries veri setinin yapÄ±landÄ±rÄ±lmasÄ± gerekmektedir. Bu veri setinde aÅŸaÄŸÄ±daki deÄŸiÅŸkenler bulunmaktadÄ±r:

-   `pop`: NÃ¼fus

-   `area`: Alan

-   `gdp`: Gayri safi yurt iÃ§i hasÄ±la

-   `educ`: EÄŸitime harcanan GSYÄ°H yÃ¼zdesi

-   `roadways`: Birim alandaki yol uzunluÄŸu

-   `net_users`: Ä°nternet kullanÄ±m oranÄ±

-   `oil_prod`: GÃ¼nlÃ¼k petrol Ã¼retimi (varil)

### Ã–rnek Veri Setini YÃ¼kleme

AÅŸaÄŸÄ±daki Ã¶rnekte, CIACountries veri setinin oluÅŸturulmuÅŸ bir versiyonunu kullanacaÄŸÄ±z:

```{r}
# Gerekli kÃ¼tÃ¼phaneleri yÃ¼kleyin
library(mosaicData)

# CIACountries veri setini yÃ¼kleyin
data("CIACountries")

# Veri setinin ilk birkaÃ§ satÄ±rÄ±nÄ± gÃ¶rÃ¼ntÃ¼leyin
head(CIACountries)

```

### 1. Estetikler ve GÃ¶rsel Ä°puÃ§larÄ± KullanÄ±mÄ±

AÅŸaÄŸÄ±daki grafikte, `gdp` ve `pop` deÄŸiÅŸkenlerini kullanarak bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturalÄ±m. Bu grafikte `color` estetiÄŸi ile `educ` deÄŸiÅŸkenine gÃ¶re noktalarÄ±n rengini ayarlayacaÄŸÄ±z.

```{r}
# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma
ggplot(data = CIACountries, aes(x = gdp, y = pop)) +
  geom_point(aes(color = educ, size = net_users, alpha = 0.7)) +  # Ek estetikler
  labs(title = "NÃ¼fus ve GSYÄ°H DaÄŸÄ±lÄ±mÄ±",
       x = "Gayri Safi Yurt Ä°Ã§i HasÄ±la",
       y = "NÃ¼fus") +
  theme_minimal()
```

### 2. Koordinat Sistemleri ve Ã–lÃ§ek KullanÄ±mÄ±

AÅŸaÄŸÄ±daki grafikte, `roadways` deÄŸiÅŸkenini kullanarak bir Ã§ubuk grafiÄŸi oluÅŸturalÄ±m. Bu grafikte `gdp` ve `pop` deÄŸiÅŸkenleri ile birlikte `fill` estetiÄŸi ekleyelim.

```{r warning=FALSE}
# Ã‡ubuk grafiÄŸi oluÅŸturma
ggplot(data = CIACountries, aes(x = reorder(country, roadways), y = roadways)) +
  geom_col(aes(fill = factor(net_users))) +  # Dolgu rengi internet kullanÄ±cÄ±larÄ±na gÃ¶re
  labs(title = "Ãœlkelere GÃ¶re Yol UzunluÄŸu",
       x = "Ãœlke",
       y = "Birim Alandaki Yol UzunluÄŸu") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1)) +  # X eksenindeki metni dÃ¶ndÃ¼r
  scale_fill_manual(values = c("blue", "green", "red", "orange", "purple"), 
                    name = "Ä°nternet KullanÄ±mÄ±")  # Kategorik renkler


```

### 3. BaÄŸlam KullanÄ±mÄ±

Grafiklerimize baÄŸlam eklemek, verilerin anlamÄ±nÄ± artÄ±rÄ±r. AÅŸaÄŸÄ±daki grafikte, her bir grafikte baÅŸlÄ±k, eksen etiketleri ve aÃ§Ä±klamalar kullanarak baÄŸlam saÄŸlayalÄ±m.

```{r}
# Kutu grafiÄŸi oluÅŸturma
ggplot(data = CIACountries, aes(x = reorder(country, educ), y = educ)) +
  geom_boxplot(fill = "lightblue") +  # Kutu grafiÄŸi
  labs(title = "EÄŸitime Harcanan GSYÄ°H YÃ¼zdesi",
       x = "Ãœlkeler",
       y = "EÄŸitime Harcanan GSYÄ°H YÃ¼zdesi") +
  theme(axis.text.x = element_text(angle = 90, hjust = 1))  # X eksenindeki metni dÃ¶ndÃ¼r


```

# 5. R'de Kanonik Veri Grafikleri

Her veri bilimcisinin bilmesi ve yorumlamasÄ± gereken birkaÃ§ veri grafiÄŸi vardÄ±r.AÅŸaÄŸÄ±daki tablo her istatiksel veri analizi ile uÄŸraÅŸan kiÅŸinin bilmesi gereken temel grafik tÃ¼rlerini, bunlarÄ±n kullanÄ±m alanlarÄ±nÄ±, hangi veri tÃ¼rlerinin kullanÄ±ldÄ±ÄŸÄ±nÄ±, ggplot estetiklerini ve olasÄ± diÄŸer unsurlarÄ± Ã¶zetlemektedir:

**Tablo 3: Temel Grafik TÃ¼rleri**

| Grafik TÃ¼rÃ¼ | TanÄ±m | KullanÄ±m | Veri TÃ¼rÃ¼ | ggplot Estetikleri | OlasÄ± DiÄŸer Unsurlar |
|------------|------------|------------|------------|------------|------------|
| **Tek DeÄŸiÅŸkenli Grafikler** |  |  |  |  |  |
| **Histogram** | SayÄ±sal verilerin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶steren Ã§ubuk grafiÄŸi. | SÃ¼rekli deÄŸiÅŸkenlerin daÄŸÄ±lÄ±mÄ±nÄ± analiz etmek iÃ§in. | SÃ¼rekli sayÄ±sal | `x`, `fill` | Bin geniÅŸliÄŸi, eksen etiketleri |
| **Kutu GrafiÄŸi** | Veri setinin Ã¶zet istatistiklerini gÃ¶steren grafik. | Verinin daÄŸÄ±lÄ±mÄ±nÄ± ve aykÄ±rÄ± deÄŸerleri incelemek iÃ§in. | SÃ¼rekli sayÄ±sal, kategorik | `x`, `y`, `fill` | Medyan, Ã§eyrekler, aykÄ±rÄ± deÄŸerler |
| **Pasta GrafiÄŸi** | Kategorik verilerin toplam iÃ§indeki oranlarÄ±nÄ± gÃ¶steren grafik. | Kategorilerin birbirine oranlarÄ±nÄ± gÃ¶stermek iÃ§in. | Kategorik | `fill` | Efsane, etiketler |
| **YoÄŸunluk GrafiÄŸi** | SayÄ±sal verinin sÃ¼rekli daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶steren grafik. | Verinin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶rselleÅŸtirmek iÃ§in. | SÃ¼rekli sayÄ±sal | `x`, `fill` | Band geniÅŸliÄŸi, eksen etiketleri |
| **Ã‡ubuk GrafiÄŸi** | Kategorik verilerin sayÄ±sÄ±nÄ± veya deÄŸerlerini gÃ¶steren grafik. | Kategorik verilerin karÅŸÄ±laÅŸtÄ±rÄ±lmasÄ±nda. | Kategorik, sayÄ±sal | `x`, `y`, `fill` | Eksende dÃ¶ndÃ¼rme, etiketler |
| **Ã‡ok DeÄŸiÅŸkenli Grafikler** |  |  |  |  |  |
| **DaÄŸÄ±lÄ±m GrafiÄŸi** | Ä°ki sayÄ±sal deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶steren grafik. | DeÄŸiÅŸkenler arasÄ±ndaki iliÅŸkiyi keÅŸfetmek iÃ§in. | SÃ¼rekli sayÄ±sal | `x`, `y`, `color`, `size`, `shape` | EÄŸilim Ã§izgisi, eksen etiketleri |
| **Zaman Serisi GrafiÄŸi** | Zamanla deÄŸiÅŸen verilerin gÃ¶rselleÅŸtirildiÄŸi grafik. | Zaman iÃ§indeki eÄŸilimleri analiz etmek iÃ§in. | SÃ¼rekli sayÄ±sal, tarih | `x`, `y`, `color` | Eksen etiketleri, eÄŸilim Ã§izgisi |
| **Mozaik GrafiÄŸi** | Ä°ki veya daha fazla kategorik deÄŸiÅŸkenin iliÅŸkisini gÃ¶steren grafik. | Kategorik deÄŸiÅŸkenlerin baÄŸÄ±ntÄ±sÄ±nÄ± analiz etmek iÃ§in. | Kategorik | `fill`, `x`, `y` | Efsane, etiketler |
| **IsÄ± HaritasÄ±** | Ä°ki deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi renklerle gÃ¶steren grafik. | Veri yoÄŸunluÄŸunu ve iliÅŸkilerini gÃ¶rselleÅŸtirmek iÃ§in. | SÃ¼rekli sayÄ±sal, kategorik | `x`, `y`, `fill` | Renk paleti, eksen etiketleri |

### AÃ§Ä±klama

-   **Tek DeÄŸiÅŸkenli Grafikler**: Sadece bir deÄŸiÅŸkenin analiz edildiÄŸi grafiklerdir. Ã–rneÄŸin, histogram ve kutu grafiÄŸi tek deÄŸiÅŸkenli grafiklerdir.
-   **Ã‡ok DeÄŸiÅŸkenli Grafikler**: Ä°ki veya daha fazla deÄŸiÅŸkenin birlikte analiz edildiÄŸi grafiklerdir. DaÄŸÄ±lÄ±m grafiÄŸi, zaman serisi grafiÄŸi, mozaik grafiÄŸi ve Ä±sÄ± haritasÄ± Ã§ok deÄŸiÅŸkenli grafiklerdir.

## Tek DeÄŸiÅŸkenli GÃ¶rselleÅŸtirmeler

### SayÄ±sal DeÄŸiÅŸkenler

Tek bir deÄŸiÅŸkenin daÄŸÄ±lÄ±mÄ±nÄ± anlamak genellikle faydalÄ±dÄ±r. EÄŸer deÄŸiÅŸken sayÄ±sal ise, daÄŸÄ±lÄ±mÄ± genellikle bir histogram veya yoÄŸunluk grafiÄŸi ile grafiksel olarak Ã¶zetlenir. Her ikisi de aynÄ± bilgiyi iletmekle birlikte, histogram Ã¶nceden tanÄ±mlanmÄ±ÅŸ aralÄ±klar (bins) kullanarak kesikli bir daÄŸÄ±lÄ±m oluÅŸtururken, yoÄŸunluk grafiÄŸi bir kernel dÃ¼zleÅŸtirici kullanarak sÃ¼rekli bir eÄŸri oluÅŸturur.

### Histogram

AÅŸaÄŸÄ±daki kod, bir histogram oluÅŸturmak iÃ§in ggplot2 kullanÄ±r. Bu histogram, her eyaletin matematik SAT puanlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermektedir:

```{r}
# Histogram oluÅŸturma
ggplot(data= SAT_2010, aes(x = math)) +
  geom_histogram(binwidth = 10, fill = "lightblue", color = "black") +
  labs(title = "Matematik PuanlarÄ±nÄ±n DaÄŸÄ±lÄ±mÄ±",
       x = "Matematik PuanÄ±",
       y = "Frekans") +
  theme_minimal()

```

**Yorum**:

-   Histogram, matematik puanlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermektedir.

-   **Veri DaÄŸÄ±lÄ±mÄ±**: Histogramda gÃ¶rÃ¼len Ã§ubuklarÄ±n yÃ¼ksekliÄŸi, belirli puan aralÄ±klarÄ±nda (bin) kaÃ§ Ã¶ÄŸrencinin olduÄŸunu gÃ¶sterir. Ã–rneÄŸin, 600-610 puan aralÄ±ÄŸÄ±nda birÃ§ok Ã¶ÄŸrenci varsa, bu aralÄ±ÄŸÄ±n Ã§ubuÄŸu daha yÃ¼ksek olacaktÄ±r.

-   **AykÄ±rÄ± DeÄŸerler**: EÄŸer histogramÄ±n uÃ§larÄ±nda (yÃ¼ksek veya dÃ¼ÅŸÃ¼k puanlarda) Ã§ok az sayÄ±daki Ã¶ÄŸrencinin puanÄ± varsa, bu aykÄ±rÄ± deÄŸerler hakkÄ±nda bilgi verebilir.

-   **Bin GeniÅŸliÄŸi**: `binwidth` parametresi, histogramÄ±n her bir Ã§ubuÄŸunun geniÅŸliÄŸini ayarlar. Daha kÃ¼Ã§Ã¼k bir bin geniÅŸliÄŸi, daha detaylÄ± bir daÄŸÄ±lÄ±m gÃ¶sterirken; daha bÃ¼yÃ¼k bir bin geniÅŸliÄŸi, genel eÄŸilimleri gÃ¶sterir. En uygun bin geniÅŸliÄŸi, verinin daÄŸÄ±lÄ±mÄ±na baÄŸlÄ± olarak deneme-yanÄ±lma yoluyla belirlenmelidir. Genellikle, Sturges veya Freedman-Diaconis kuralÄ± gibi yÃ¶ntemler kullanÄ±labilir. YukarÄ±da verilen baÄŸlamda, her bir aralÄ±k, 10 puanlÄ±k bir SAT puanÄ± aralÄ±ÄŸÄ±nÄ± kapsar. HistogramÄ±n gÃ¶rÃ¼nÃ¼mÃ¼nÃ¼n, seÃ§ilen aralÄ±k geniÅŸliklerine baÄŸlÄ± olarak Ã¶nemli Ã¶lÃ§Ã¼de deÄŸiÅŸebileceÄŸini unutmamak Ã¶nemlidir; dolayÄ±sÄ±yla evrensel olarak en iyi seÃ§im yoktur. Veriniz iÃ§in en uygun aralÄ±k geniÅŸliÄŸini belirlemek, veri setinin Ã¶zelliklerini gÃ¶z Ã¶nÃ¼nde bulundurarak bireysel bir deÄŸerlendirme gerektirir.

### YoÄŸunluk GrafiÄŸi

AÅŸaÄŸÄ±daki kod, yoÄŸunluk grafiÄŸini oluÅŸturmak iÃ§in kullanÄ±lÄ±r. Bu grafik, her eyaletin ortalama matematik SAT puanlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶sterir:

```{r}
# YoÄŸunluk grafiÄŸi kodu
ggplot(SAT_2010, aes(x = math)) +
  geom_density(fill = "lightblue", alpha = 0.5) +
  labs(title = "Matematik PuanlarÄ±nÄ±n YoÄŸunluk GrafiÄŸi",
       x = "Matematik PuanÄ±",
       y = "YoÄŸunluk") +
  theme_minimal()

```

**Yorum**:

-   YoÄŸunluk grafiÄŸi, matematik puanlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± pÃ¼rÃ¼zsÃ¼z bir eÄŸri ile gÃ¶sterir.

-   **EÄŸilim**: YoÄŸunluk grafiÄŸi, verinin genel daÄŸÄ±lÄ±mÄ±nÄ± ve yoÄŸunluk noktalarÄ±nÄ± anlamak iÃ§in idealdir. Grafik, hangi puan aralÄ±klarÄ±nÄ±n daha yoÄŸun olduÄŸunu gÃ¶sterir.

-   **YayÄ±lma**: EÄŸrinin geniÅŸliÄŸi, verinin ne kadar yayÄ±ldÄ±ÄŸÄ±nÄ± gÃ¶sterir. Dar bir eÄŸri, verinin belirli bir alanda toplandÄ±ÄŸÄ±nÄ±, geniÅŸ bir eÄŸri ise verinin daha yaygÄ±n olduÄŸunu gÃ¶sterir.

-   **YoÄŸunluk grafiÄŸinde `adjust`** argÃ¼manÄ±, kernel dÃ¼zleÅŸtiricide kullanÄ±lan bant geniÅŸliÄŸini ayarlamak iÃ§in kullanÄ±lÄ±r. Bu ayar, dÃ¼zleÅŸtirme sÃ¼recini ince ayar yapmaya ve yoÄŸunluk tahminindeki detay ve pÃ¼rÃ¼zsÃ¼zlÃ¼k seviyesini etkilemeye olanak tanÄ±r.

### Kutu GrafiÄŸi

Kutu grafiÄŸi (box plot), bir veri setinin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶rselleÅŸtirmek iÃ§in kullanÄ±lan etkili bir araÃ§tÄ±r. Genellikle bir deÄŸiÅŸkenin (Ã¶rneÄŸin, matematik puanlarÄ±) merkezi eÄŸilimini ve yayÄ±lmasÄ±nÄ± gÃ¶stermektedir.

-   **BileÅŸenler**:

    -   **Kutu**: Verinin ilk Ã§eyreÄŸi (Q1) ve Ã¼Ã§Ã¼ncÃ¼ Ã§eyreÄŸi (Q3) arasÄ±nda yer alan dikdÃ¶rtgen, veri daÄŸÄ±lÄ±mÄ±nÄ±n orta %50'sini temsil eder. Kutunun iÃ§indeki yatay Ã§izgi, verinin medyanÄ±nÄ± gÃ¶sterir.

    -   **Kollar (Whiskers)**: Kutu grafiÄŸinin Ã¼st ve alt kÄ±smÄ±nda yer alan kollar, Q1 ve Q3 dÄ±ÅŸÄ±ndaki maksimum ve minimum deÄŸerleri gÃ¶sterir. Bu kollar genellikle 1.5 IQR (Interquartile Range - Ã‡eyrekler ArasÄ± AralÄ±k) kadar uzanÄ±r.

    -   **AykÄ±rÄ± DeÄŸerler**: Kutu grafiÄŸinin dÄ±ÅŸÄ±ndaki noktalar, aykÄ±rÄ± deÄŸerleri temsil eder. AykÄ±rÄ± deÄŸerler, genel daÄŸÄ±lÄ±mÄ±n dÄ±ÅŸÄ±nda kalan veri noktalarÄ±dÄ±r ve dikkatle incelenmesi gereken verilerdir.

```{r}
# Kutu grafiÄŸi oluÅŸturma
ggplot(SAT_2010, aes(y = math)) +
  geom_boxplot(fill = "lightgreen") +
  labs(title = "Matematik PuanlarÄ±nÄ±n Kutu GrafiÄŸi",
       y = "Matematik PuanÄ±") +
  theme_minimal()

```

**Yorum**:

-   Kutu grafiÄŸi, matematik puanlarÄ±nÄ±n merkezi eÄŸilimlerini ve yayÄ±lmasÄ±nÄ± gÃ¶sterir.

-   **Medyan**: Kutu grafiÄŸinin ortasÄ±nda yer alan Ã§izgi, medyanÄ± temsil eder ve verinin merkezi deÄŸerini gÃ¶sterir.

-   **Ã‡eyrekler**: Kutu, 1. Ã§eyrek (Q1) ve 3. Ã§eyrek (Q3) deÄŸerlerini gÃ¶sterir. Q1, verinin %25'inin altÄ±nda olduÄŸu noktayÄ±, Q3 ise %75'inin altÄ±nda olduÄŸu noktayÄ± temsil eder.

-   **AykÄ±rÄ± DeÄŸerler**: Kutu grafiÄŸi, veri setinde bulunan aykÄ±rÄ± deÄŸerleri belirlemede yardÄ±mcÄ± olur. AykÄ±rÄ± deÄŸerler, kutunun dÄ±ÅŸÄ±ndaki noktalar olarak gÃ¶sterilir. AykÄ±rÄ± deÄŸerlerin varlÄ±ÄŸÄ±, verinin normal daÄŸÄ±lÄ±m gÃ¶sterip gÃ¶stermediÄŸi hakkÄ±nda ipucu verebilir.

## Kategorik DeÄŸiÅŸkenler

EÄŸer deÄŸiÅŸkeniniz kategorikse, deÄŸerlerin sÃ¼rekli bir yoÄŸunluÄŸa sahip olduÄŸu dÃ¼ÅŸÃ¼ncesi mantÄ±klÄ± deÄŸildir. Bunun yerine, bir kategorik deÄŸiÅŸkenin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermek iÃ§in Ã§ubuk grafiÄŸi kullanabiliriz.

### Ã‡ubuk GrafiÄŸi

AÅŸaÄŸÄ±daki kod, bir Ã§ubuk grafiÄŸi oluÅŸturarak belirli eyaletlerin ortalama matematik SAT puanlarÄ±nÄ±n daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermektedir:

```{r}
# Ã‡ubuk grafiÄŸi oluÅŸturma
ggplot(
  data = head(SAT_2010, 10),  # Sadece ilk 10 eyaleti gÃ¶ster
  aes(x = reorder(state, math), y = math)  # Eyalet isimlerini matematik puanlarÄ±na gÃ¶re sÄ±ralayÄ±n
) +
  geom_col() +  # Ã‡ubuklarÄ± Ã§izin
  labs(x = "Eyalet", y = "Ortalama Matematik SAT PuanÄ±")

```

**Yorum**:

-   Ã‡ubuk grafiÄŸi, her eyaletin ortalama matematik puanÄ±nÄ± gÃ¶sterir.

-   **KarÅŸÄ±laÅŸtÄ±rma**: FarklÄ± eyaletlerin ortalama puanlarÄ± arasÄ±ndaki karÅŸÄ±laÅŸtÄ±rmalarÄ± net bir ÅŸekilde sunar. Ã–rneÄŸin, belirli bir eyaletin puanÄ± diÄŸerlerinden belirgin ÅŸekilde daha yÃ¼ksek veya dÃ¼ÅŸÃ¼kse, bu grafik bunu vurgular.

-   **YÃ¼kseklik**: Ã‡ubuklarÄ±n yÃ¼ksekliÄŸi, ortalama puanÄ± temsil eder. Bu, izleyicilere hangi eyaletlerin daha iyi veya daha kÃ¶tÃ¼ performans gÃ¶sterdiÄŸi hakkÄ±nda bilgi verir.

::: callout-note
ğŸ‘‹ Daha Ã¶nce belirtildiÄŸi gibi, kategorik bir deÄŸiÅŸkenin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermek iÃ§in pasta grafiklerinin kullanÄ±mÄ±nÄ± Ã¶nermiyoruz. Ã‡oÄŸu durumda, frekans tablosu daha bilgilendiricidir.
:::

## Ã‡ok DeÄŸiÅŸkenli GÃ¶rselleÅŸtirmeler

### Ä°ki SayÄ±sal DeÄŸiÅŸken

Ã‡ok deÄŸiÅŸkenli gÃ¶rselleÅŸtirmeler, birden fazla deÄŸiÅŸken arasÄ±ndaki iliÅŸkileri aynÄ± anda gÃ¶sterme konusunda oldukÃ§a etkilidir. Bu tÃ¼r grafiklerden biri, iki nicel (sayÄ±sal) deÄŸiÅŸkenin gÃ¶zlemlerini gÃ¶rselleÅŸtirmek iÃ§in mÃ¼kemmel bir yÃ¶ntem olan **daÄŸÄ±lÄ±m grafiÄŸi**dir. ggplot2 paketinde, daÄŸÄ±lÄ±m grafiÄŸi `geom_point()` komutu ile oluÅŸturulur. DaÄŸÄ±lÄ±m grafiÄŸinin ana amacÄ±, birÃ§ok durum arasÄ±nda iki deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶stermektir. Genellikle, x ekseni bir deÄŸiÅŸkeni, y ekseni ise diÄŸer bir deÄŸiÅŸkenin deÄŸerini temsil eden kartezyen koordinat sistemi kullanÄ±r.

### Basit DaÄŸÄ±lÄ±m GrafiÄŸi

Ä°ki sayÄ±sal deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶stermek iÃ§in matematik puanlarÄ± ile Ã¶ÄŸrenci baÅŸÄ±na harcamalar arasÄ±nda bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturalÄ±m.

```{r}
# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma
ggplot(SAT_2010, aes(x = expenditure, y = math)) +
  geom_point(size = 3, alpha = 0.7) +  # NoktalarÄ±n boyutu ve saydamlÄ±k
  labs(title = "Matematik PuanlarÄ± ve Ã–ÄŸrenci BaÅŸÄ±na Harcama ArasÄ±ndaki Ä°liÅŸki",
       x = "Ã–ÄŸrenci BaÅŸÄ±na Harcama",
       y = "Matematik PuanÄ±") +
  theme_minimal()


```

#### Yorum:

-   **Ä°liÅŸki**: Bu daÄŸÄ±lÄ±m grafiÄŸi, Ã¶ÄŸrenci baÅŸÄ±na harcama ile matematik puanlarÄ± arasÄ±ndaki iliÅŸkiyi gÃ¶sterir. Harcama arttÄ±kÃ§a matematik puanlarÄ±nÄ±n nasÄ±l deÄŸiÅŸtiÄŸini analiz edebilirsiniz.

### Trend Ã‡izgisi Ekleyin

Åimdi, grafik Ã¼zerine bir trend Ã§izgisi ekleyelim ve eksen etiketlerini daha spesifik hale getirelim. Basit doÄŸrusal regresyon Ã§izgisini (method = "lm") noktalarÄ±n Ã¼zerinden geÃ§irecek ÅŸekilde `geom_smooth()` fonksiyonunu kullanacaÄŸÄ±z:

```{r}
# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma ve trend Ã§izgisi ekleme
ggplot(SAT_2010, aes(x = expenditure, y = math)) +
  geom_point(size = 3, alpha = 0.7) +  # NoktalarÄ±n boyutu ve saydamlÄ±k
  geom_smooth(method = "lm", se = FALSE, color = "red") +  # Trend Ã§izgisi ekleme
  labs(title = "Matematik PuanlarÄ± ve Ã–ÄŸrenci BaÅŸÄ±na Harcama ArasÄ±ndaki Ä°liÅŸki",
       x = "Ã–ÄŸrenci BaÅŸÄ±na Harcama",
       y = "Matematik PuanÄ±") +
  theme_minimal()


```

YukarÄ±daki ÅŸekilde, ortalama matematik SAT puanÄ± ile Ã¶ÄŸrenci baÅŸÄ±na harcama (binlerce ABD dolarÄ± cinsinden) arasÄ±ndaki iliÅŸkiyi gÃ¶steriyoruz. ÃœÃ§Ã¼ncÃ¼ (kategorik) bir deÄŸiÅŸken, fasetleme ve/veya katman ekleyerek grafik Ã¼zerinde gÃ¶sterilebilir. AÅŸaÄŸÄ±da, `SAT_2010` veri setini kullanarak, Ã¶ÄŸrenci baÅŸÄ±na harcama ile matematik SAT puanÄ± arasÄ±ndaki iliÅŸkiyi gÃ¶steren bir daÄŸÄ±lÄ±m grafiÄŸi oluÅŸturacaÄŸÄ±z. Bu grafikte, Ã¶ÄŸrencilerin SAT'ye girme yÃ¼zdesine gÃ¶re eyaletleri "yÃ¼ksek", "orta" ve "dÃ¼ÅŸÃ¼k" gruplara ayÄ±ran bir `SAT_rate` deÄŸiÅŸkeni ekleyeceÄŸiz. SonrasÄ±nda, bu grubu gÃ¶rselleÅŸtirmek iÃ§in grafik Ã¼zerinde fasetleme kullanacaÄŸÄ±z.

### AdÄ±mlar:

1.  `mutate()` fonksiyonu ile `SAT_rate` deÄŸiÅŸkenini oluÅŸturacaÄŸÄ±z.

2.  DaÄŸÄ±lÄ±m grafiÄŸini `SAT_rate` deÄŸiÅŸkenine gÃ¶re fasetleyeceÄŸiz.

```{r}

# SAT_rate deÄŸiÅŸkenini ekleme
SAT_2010_rate <- SAT_2010 %>%
  mutate(SAT_rate = case_when(
    sat_pct >= 70 ~ "YÃ¼ksek",
    sat_pct >= 40 & sat_pct < 70 ~ "Orta",
    TRUE ~ "DÃ¼ÅŸÃ¼k"
  ))

# DaÄŸÄ±lÄ±m grafiÄŸi oluÅŸturma ve fasetleme
ggplot(SAT_2010_rate, aes(x = expenditure, y = math)) +
  geom_point(aes(color = SAT_rate), size = 3, alpha = 0.7) +  # NoktalarÄ±n boyutu ve saydamlÄ±k
  geom_smooth(method = "lm", se = FALSE, color = "red") +  # Trend Ã§izgisi ekleme
  labs(title = "Matematik PuanlarÄ± ve Ã–ÄŸrenci BaÅŸÄ±na Harcama ArasÄ±ndaki Ä°liÅŸki",
       x = "Ã–ÄŸrenci BaÅŸÄ±na Harcama (binlerce ABD DolarÄ±)",
       y = "Matematik SAT PuanÄ±") +
  facet_wrap(~ SAT_rate) +  # SAT_rate deÄŸiÅŸkenine gÃ¶re fasetleme
  theme_minimal()


```

### Yorum:

-   **Ä°liÅŸki**: Her bir fasette, Ã¶ÄŸrenci baÅŸÄ±na harcama ile matematik puanlarÄ± arasÄ±ndaki iliÅŸkiyi ayrÄ± ayrÄ± gÃ¶rebiliriz.

-   **Trend Ã‡izgisi**: KÄ±rmÄ±zÄ± trend Ã§izgisi, her grubun genel eÄŸilimini temsil eder. Ã–rneÄŸin, yÃ¼ksek SAT yÃ¼zdesine sahip grupta harcama arttÄ±kÃ§a matematik puanlarÄ±nÄ±n da arttÄ±ÄŸÄ±nÄ± gÃ¶rebiliriz.

-   **Gruplar ArasÄ± FarklÄ±lÄ±klar**: FarklÄ± SAT gruplarÄ±nÄ±n (yÃ¼ksek, orta, dÃ¼ÅŸÃ¼k) arasÄ±ndaki iliÅŸki farklÄ±lÄ±klarÄ±nÄ± gÃ¶zlemlemek, eÄŸitimin etkilerini anlamada Ã¶nemli bir rol oynar.

### Zaman Serisi

NHANES (National Health and Nutrition Examination Survey) veri tablosu, bireylerin tÄ±bbi, davranÄ±ÅŸsal ve morfometrik Ã¶lÃ§Ã¼mlerini saÄŸlar. AÅŸaÄŸÄ±daki grafikte, boy ve yaÅŸ arasÄ±ndaki iliÅŸkiyi gÃ¶steren bir daÄŸÄ±lÄ±m grafiÄŸi bulunmaktadÄ±r. Her nokta bir kiÅŸiyi temsil eder ve o noktanÄ±n konumu, o kiÅŸinin iki deÄŸiÅŸkenin deÄŸerini belirtir. DaÄŸÄ±lÄ±m grafikleri, iki deÄŸiÅŸken arasÄ±ndaki basit iliÅŸkileri gÃ¶rselleÅŸtirmek iÃ§in kullanÄ±ÅŸlÄ±dÄ±r. Ã–rneÄŸin, aÅŸaÄŸÄ±daki grafikte doÄŸumdan ergenliÄŸe kadar olan boy bÃ¼yÃ¼me desenini gÃ¶rebilirsiniz.

Verilerin daha iyi bir dÃ¼zenlenmesi iÃ§in (bunu daha sonra ele alacaÄŸÄ±z), Ã§izgilerin mekÃ¢nsal iliÅŸkisinin (eriÅŸkin erkeklerin, eriÅŸkin kadÄ±nlardan daha uzun olma eÄŸilimi) efsane etiketlerinin sÄ±ralamasÄ± ile eÅŸleÅŸmesini saÄŸlamak iÃ§in biraz daha dÃ¼zenleme yapmak yararlÄ±dÄ±r. Burada, faktÃ¶r seviyelerini sÄ±fÄ±rlamak iÃ§in `fct_relevel()` fonksiyonunu kullanÄ±yoruz (forcats paketinden).

```{r}
# install.packages("NHANES")
library(NHANES)

ggplot(
  data = slice_sample(NHANES, n = 1000), 
  aes(x = Age, y = Height, color = fct_relevel(Gender, "male"))
) + 
  geom_point() + 
  geom_smooth() + 
  xlab("YaÅŸ (yÄ±l)") + 
  ylab("Boy (cm)") +
  labs(color = "Cinsiyet")

```

BazÄ± daÄŸÄ±lÄ±m grafiklerinin Ã¶zel anlamlarÄ± vardÄ±r. AÅŸaÄŸÄ±daki ÅŸekilde gÃ¶sterilen bir zaman serisi, yatay eksende zaman ve noktalarÄ±n baÄŸlÄ± Ã§izgilerle birleÅŸtirildiÄŸi bir daÄŸÄ±lÄ±m grafiÄŸidir; bu durum zaman iÃ§indeki sÃ¼rekliliÄŸi gÃ¶sterir. AÅŸaÄŸÄ±daki grafikte, BatÄ± Massachusetts'teki bir hava istasyonundaki sÄ±caklÄ±k yÄ±l boyunca gÃ¶sterilmektedir. Mevsimlere dayanan tanÄ±dÄ±k dalgalanmalar belirgindir. Bu tÃ¼r grafikleri yorumlarken Ã¶zellikle dikkatli olunmalÄ±dÄ±r; zaman gerÃ§ekten iyi bir aÃ§Ä±klayÄ±cÄ± deÄŸiÅŸken mi?

```{r}
# install.packages("macleish")
library(macleish)

ggplot(data = whately_2015, aes(x = when, y = temperature)) + 
  geom_line(color = "darkgray") + 
  geom_smooth() + 
  xlab(NULL) + 
  ylab("SÄ±caklÄ±k (Celsius derece)")

```

## Ä°ki Kategorik DeÄŸiÅŸken

Birden fazla kategorik deÄŸiÅŸken kullanarak bilgilendirici bir grafiksel gÃ¶rÃ¼ntÃ¼ elde etmek iÃ§in **yÄ±ÄŸÄ±lmÄ±ÅŸ Ã§ubuk grafiÄŸi** kullanÄ±labilir.

### YÄ±ÄŸÄ±lmÄ±ÅŸ Ã‡ubuk GrafiÄŸi

AÅŸaÄŸÄ±daki kod, yÄ±ÄŸÄ±lmÄ±ÅŸ Ã§ubuk grafiÄŸi oluÅŸturarak "homeless" (sokakta yaÅŸayan) ve "substance" (madde) deÄŸiÅŸkenlerini gÃ¶rselleÅŸtirmektedir:

```{r}

# YÄ±ÄŸÄ±lmÄ±ÅŸ Ã§ubuk grafiÄŸi oluÅŸturma
ggplot(data = mosaicData::HELPrct, aes(x = homeless)) + 
  geom_bar(aes(fill = substance), position = "fill") +
  scale_fill_brewer(palette = "Spectral") + 
  coord_flip()  # Ã‡ubuklarÄ± yatay gÃ¶stermek iÃ§in

```

### Ä°ki Kategorik DeÄŸiÅŸkenin Ä°liÅŸkisi

Hem aÃ§Ä±klayÄ±cÄ± hem de yanÄ±t deÄŸiÅŸkenleri kategorik (veya gruplandÄ±rÄ±lmÄ±ÅŸ) olduÄŸunda, noktalar ve Ã§izgiler o kadar iyi Ã§alÄ±ÅŸmaz. Ã–rneÄŸin, bir kiÅŸinin yaÅŸÄ±na ve vÃ¼cut kitle indeksine (BMI) dayanarak diyabet olasÄ±lÄ±ÄŸÄ± nedir? AÅŸaÄŸÄ±daki ÅŸekilde gÃ¶sterilen mozaik grafik (veya eikosogram), her hÃ¼credeki gÃ¶zlem sayÄ±sÄ±nÄ±n kutunun alanÄ±na orantÄ±lÄ± olduÄŸunu gÃ¶stermektedir. BÃ¶ylece, diyabetin yaÅŸlÄ± insanlar ve obez olanlar arasÄ±nda daha yaygÄ±n olduÄŸunu gÃ¶rebiliriz; Ã§Ã¼nkÃ¼ mavi alanlarÄ±n bÃ¼yÃ¼klÃ¼ÄŸÃ¼ baÄŸÄ±msÄ±zlÄ±k modeline gÃ¶re beklenenden daha fazladÄ±r, pembe alanlar ise daha azdÄ±r. Bu durum, Venn diagramlarÄ±ndan aÅŸina olduÄŸumuz olasÄ±lÄ±k kavramlarÄ±nÄ±n daha doÄŸru bir tasvirini sunar.

### Mozaik GrafiÄŸi

AÅŸaÄŸÄ±daki kod, NHANES veri setinden yaÅŸ ve BMI deÄŸiÅŸkenlerine gÃ¶re diyabeti gÃ¶steren bir mozaik grafiÄŸi oluÅŸturmaktadÄ±r:

```{r}
# install.packages("ggmosaic")
library(ggmosaic)


# Veriyi hazÄ±rlama
mosaic_to_plot <- NHANES %>%
  filter(Age > 19) %>%
  mutate(AgeDecade = droplevels(AgeDecade)) %>%
  select(AgeDecade, Diabetes, BMI_WHO) %>% 
  na.omit()

# Mozaik grafiÄŸi oluÅŸturma
ggplot(mosaic_to_plot) +
  geom_mosaic(
    aes(x = product(BMI_WHO, AgeDecade), fill = Diabetes)
  ) + 
  ylab("BMI") + 
  xlab("YaÅŸ (on yÄ±llÄ±k dilim)") + 
  coord_flip()

```

ğŸ‘‹ Not: `geom_mosaic()` fonksiyonu ggplot2'nin bir parÃ§asÄ± deÄŸildir; bunun yerine ggmosaic paketinde bulunmaktadÄ±r.

## Bir SayÄ±sal ve Bir Kategorik DeÄŸiÅŸken

Bir sayÄ±sal yanÄ±t deÄŸiÅŸkenini bir kategorik aÃ§Ä±klayÄ±cÄ± deÄŸiÅŸkenle karÅŸÄ±laÅŸtÄ±rmak iÃ§in yaygÄ±n bir seÃ§enek, **kutu ve Ã§ubuk grafiÄŸi (box-and-whisker plot)** oluÅŸturmaktÄ±r. Bu grafik, beÅŸ sayÄ± Ã¶zetinin (minimum \[0. persentil\], Q1 \[25. persentil\], medyan \[50. persentil\], Q3 \[75. persentil\] ve maksimum \[100. persentil\]) grafiksel bir gÃ¶sterimi olarak dÃ¼ÅŸÃ¼nÃ¼lmesi en kolay olanÄ±dÄ±r.

### Kutu GrafiÄŸi

AÅŸaÄŸÄ±daki kod, her ay iÃ§in sÄ±caklÄ±k verilerini kullanarak bir kutu grafiÄŸi oluÅŸturmaktadÄ±r:

```{r}
# Gerekli kÃ¼tÃ¼phaneleri yÃ¼kleyin
library(ggplot2)
library(dplyr)
library(lubridate)

# Veri setini hazÄ±rlayÄ±n
whately_2015 %>%
  mutate(month = as.factor(lubridate::month(when, label = TRUE))) %>%
  group_by(month) %>% 
  skim(temperature) %>%
  select(-na)

```

YukarÄ±daki kod, `whately_2015` veri setinden her ay iÃ§in sÄ±caklÄ±klarÄ± gruplandÄ±rÄ±r ve sÄ±caklÄ±k verisinin Ã¶zetini saÄŸlar.

Åimdi, kutu grafiÄŸini oluÅŸturalÄ±m:

```{r}
# Kutu grafiÄŸi oluÅŸturma
ggplot(
  data = whately_2015, 
  aes(
    x = lubridate::month(when, label = TRUE), 
    y = temperature
  )
) + 
  geom_boxplot() +
  xlab("Ay") + 
  ylab("SÄ±caklÄ±k (Celsius derece)")

```

### KapsamlÄ± Grafiklerin Tablosu

AÅŸaÄŸÄ±da, Ã§eÅŸitli sayÄ±sal ve kategorik deÄŸiÅŸkenler iÃ§in Ã¶nerilen grafik tÃ¼rlerini ve ggplot2 ile kullanÄ±lacak fonksiyonlarÄ± daha kapsamlÄ± bir ÅŸekilde Ã¶zetleyen bir tablo bulunmaktadÄ±r. Tablo, grafik tÃ¼rlerini, fonksiyonlarÄ± ve ek bilgileri iÃ§ermektedir.

**Tablo 4: Temel Grafik TÃ¼rleri Ã–zet**

| YanÄ±t ($y$) | AÃ§Ä±klayÄ±cÄ± ($x$) | Grafik TÃ¼rÃ¼ | `geom_*()` Fonksiyonu | Ek Bilgiler |
|---------------|---------------|---------------|---------------|---------------|
| Kategorik | Kategorik | Ã‡ubuk GrafiÄŸi | `geom_bar()` | Frekans veya toplam deÄŸer gÃ¶sterir. |
| Kategorik | Kategorik | YÄ±ÄŸÄ±lmÄ±ÅŸ Ã‡ubuk GrafiÄŸi | `geom_bar(position = "fill")` | OranlarÄ± gÃ¶sterir. |
| SayÄ±sal | Kategorik | Kutu GrafiÄŸi | `geom_boxplot()` | Medyan, Ã§eyrekler ve aykÄ±rÄ± deÄŸerleri gÃ¶sterir. |
| SayÄ±sal | SayÄ±sal | DaÄŸÄ±lÄ±m GrafiÄŸi | `geom_point()` | DeÄŸiÅŸkenler arasÄ±ndaki iliÅŸkiyi gÃ¶sterir. |
| SayÄ±sal | SayÄ±sal | Histogram | `geom_histogram()` | DaÄŸÄ±lÄ±mÄ± gÃ¶sterir; `binwidth` ile ayarlanabilir. |
| SayÄ±sal | SayÄ±sal | YoÄŸunluk GrafiÄŸi | `geom_density()` | DaÄŸÄ±lÄ±mÄ±n yoÄŸunluÄŸunu gÃ¶sterir; `adjust` ile ayarlanabilir. |
| SayÄ±sal | SayÄ±sal | Zaman Serisi GrafiÄŸi | `geom_line()` | Zamanla deÄŸiÅŸimi gÃ¶sterir. |
| SayÄ±sal | Kategorik | Ã‡izgi GrafiÄŸi | `geom_line()` | Kategorik deÄŸiÅŸkenler iÃ§in sÄ±ralÄ± grafikler. |
| SayÄ±sal | SayÄ±sal | Bubbles GrafiÄŸi | `geom_point(aes(size = <size_var>))` | Ekstra boyut bilgisi eklemek iÃ§in kullanÄ±lÄ±r. |

### Ek Bilgiler ve AÃ§Ä±klamalar:

-   **Ã‡ubuk GrafiÄŸi (`geom_bar()`)**: Kategorik verilerin frekansÄ±nÄ± veya toplam deÄŸerini gÃ¶sterir. Verilerin toplamÄ±nÄ± gÃ¶rsel olarak ifade ederken etiketler eklemek faydalÄ± olabilir.

-   **YÄ±ÄŸÄ±lmÄ±ÅŸ Ã‡ubuk GrafiÄŸi (`geom_bar(position = "fill")`)**: Kategorilerin oranlarÄ±nÄ± gÃ¶sterir. YÃ¼ksekliÄŸi toplamÄ± ifade ederken, her rengin oranÄ±nÄ± da gÃ¶sterir.

-   **Kutu GrafiÄŸi (`geom_boxplot()`)**: Verinin daÄŸÄ±lÄ±mÄ±nÄ± ve aykÄ±rÄ± deÄŸerleri gÃ¶rselleÅŸtirir. Medyan, 1. ve 3. Ã§eyrek gibi Ã¶zet istatistikleri sunar. AykÄ±rÄ± deÄŸerler kutunun dÄ±ÅŸÄ±nda gÃ¶sterilir.

-   **DaÄŸÄ±lÄ±m GrafiÄŸi (`geom_point()`)**: Ä°ki sayÄ±sal deÄŸiÅŸken arasÄ±ndaki iliÅŸkiyi gÃ¶sterir. Her bir nokta, bir veri noktasÄ±nÄ± temsil eder ve renk veya ÅŸekil estetikleri ile kategorik deÄŸiÅŸkenler de gÃ¶sterilebilir.

-   **Histogram (`geom_histogram()`)**: SayÄ±sal verilerin daÄŸÄ±lÄ±mÄ±nÄ± gÃ¶stermek iÃ§in kullanÄ±lÄ±r. `binwidth` parametresi, histogramÄ±n Ã§ubuk geniÅŸliÄŸini belirler. En uygun bin geniÅŸliÄŸi verinin doÄŸasÄ±na gÃ¶re ayarlanmalÄ±dÄ±r.

-   **YoÄŸunluk GrafiÄŸi (`geom_density()`)**: Verinin yoÄŸunluÄŸunu gÃ¶stermek iÃ§in kullanÄ±lÄ±r. Smoothing (dÃ¼zleÅŸtirme) iÅŸlemi ile histogramdan daha pÃ¼rÃ¼zsÃ¼z bir gÃ¶rÃ¼nÃ¼m saÄŸlar. `adjust` parametresi ile yoÄŸunluk dÃ¼zleÅŸtirmesinin ne kadar pÃ¼rÃ¼zsÃ¼z olacaÄŸÄ±nÄ± ayarlamak mÃ¼mkÃ¼ndÃ¼r.

-   **Zaman Serisi GrafiÄŸi (`geom_line()`)**: Zaman iÃ§inde deÄŸiÅŸimi gÃ¶stermek iÃ§in kullanÄ±lÄ±r. Genellikle Ã§izgi ÅŸeklinde gÃ¶sterilir ve veri noktalarÄ± arasÄ±nda baÄŸlantÄ± saÄŸlar.

-   **Bubbles GrafiÄŸi (`geom_point(aes(size = <size_var>))`)**: Ã‡ok deÄŸiÅŸkenli analizlerde, boyut bilgisi eklenerek verilerin daha etkili gÃ¶rselleÅŸtirilmesine olanak tanÄ±r.
